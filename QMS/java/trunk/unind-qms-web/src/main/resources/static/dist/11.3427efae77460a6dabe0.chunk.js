webpackJsonp([11],{1586:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(75),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=s(120);e.default={created:function(){this.getData()},computed:(0,o.default)({},(0,a.mapState)({menuData:function(t){return t.menuData}})),data:function(){var t=this;return{start:0,end:15,dialog:{modal_dialog:!1,modal_dialog1:!1,ruleForm:{bsCustomer:[{required:!0,message:"请填写客户名称",trigger:"blur"}],bsContract:[{required:!0,message:"请填写联系人",trigger:"blur"}],bsTel:[{required:!0,message:"请填写电话号码",trigger:"blur"}]}},formItem:{id:"",bsCustomer:"",bsCustomerDesc:"",bsAddress:"",bsTel:"",bsContract:"",bsShipTo:""},formQuery:{bsCustomer:"",bsContract:""},datagrid:{queryParams:{page:1,rows:15,pkParent:-1},pagination:[15,50,100],data:{rows:[],total:0,rows1:[]},columns:[{title:"客户名称",key:"bsCustomer"},{title:"客户描述",key:"bsCustomerDesc"},{title:"客户地址",key:"bsAddress"},{title:"电话",key:"bsTel"},{title:"联系人",key:"bsContract"},{title:"收货地",key:"bsShipTo"},{title:"操作",key:"action",render:function(e,s){var r=[];return r.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showEditDialog(s)}}},"编辑")),r.push(e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.delete(s)}}},"删除")),e("div",r)}}]}}},methods:{getData:function(){var t=this;this.api.lmp.customer.selectlist().then(function(e){e.result?(t.datagrid.data.rows1=t.datagrid.data.rows,t.datagrid.data.rows=e.data.rows.slice(t.start,t.end),t.datagrid.data.total=e.data.total):t.$Message.error(e.msg)})},showAddDialog:function(){this.formItem.id="",this.formItem.bsCustomer="",this.formItem.bsCustomerDesc="",this.formItem.bsAddress="",this.formItem.bsTel="",this.formItem.bsContract="",this.formItem.bsShipTo="",this.dialog.modal_dialog=!0},check:function(){return""==this.formItem.bsCustomer||null==this.formItem.bsCustomer?(this.$Message.error("客户名称不能为空"),!1):""==this.formItem.bsContract||null==this.formItem.bsContract?(this.$Message.error("联系人不能为空"),!1):""!=this.formItem.bsTel&&null!=this.formItem.bsTel||(this.$Message.error("联系电话不能为空"),!1)},ok:function(){var t=this;if(!this.check())return!1;this.api.lmp.customer.insertCustomer(this.formItem).then(function(e){e.result?(t.getData(),t.$Message.success("添加成功！")):t.$Message.error("添加失败！")})},ok1:function(){var t=this;if(!this.check())return!1;this.api.lmp.customer.updateCustomer(this.formItem).then(function(e){e.result?(t.getData(),t.$Message.success("更新成功！")):t.$Message.error("更新失败！")})},cancel:function(){},delete:function(t){var e=this;console.log(t),this.api.lmp.customer.deleteCustomer(t.row).then(function(t){t.result?(e.getData(),e.$Message.success("删除成功！")):e.$Message.error("删除失败！")})},showEditDialog:function(t){this.formItem.id=t.row.id,this.formItem.bsCustomer=t.row.bsCustomer,this.formItem.bsCustomerDesc=t.row.bsCustomerDesc,this.formItem.bsAddress=t.row.bsAddress,this.formItem.bsTel=t.row.bsTel,this.formItem.bsContract=t.row.bsContract,this.formItem.bsShipTo=t.row.bsShipTo,this.dialog.modal_dialog1=!0},handleSubmit:function(){var t=this;this.api.lmp.customer.selectByCustomer(this.formQuery).then(function(e){e.result?t.datagrid.data=e.data:t.$Message.error(e.msg)})},changePage:function(t){this.start=(t-1)*this.datagrid.queryParams.rows,this.end=t*this.datagrid.queryParams.rows,this.getData()},chageSize:function(t){this.datagrid.queryParams.rows=t,this.start=0,this.end=t,this.getData()}}}},1753:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("Row",[s("i-col",[s("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:t.formQuery,inline:""}},[s("Form-item",[s("Input",{attrs:{placeholder:"请输入客户名称"},model:{value:t.formQuery.bsCustomer,callback:function(e){t.$set(t.formQuery,"bsCustomer",e)},expression:"formQuery.bsCustomer"}})],1),t._v(" "),s("Form-item",[s("Input",{attrs:{placeholder:"请输入联系人"},model:{value:t.formQuery.bsContract,callback:function(e){t.$set(t.formQuery,"bsContract",e)},expression:"formQuery.bsContract"}})],1),t._v(" "),s("Form-item",[s("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit()}}},[t._v("查 询")])],1),t._v(" "),s("Form-item",[s("Button",{attrs:{type:"primary"},on:{click:function(e){t.showAddDialog()}}},[t._v("添加")])],1)],1)],1)],1)],1),t._v(" "),s("Modal",{attrs:{title:""},on:{"on-ok":t.ok1,"on-cancel":t.cancel},model:{value:t.dialog.modal_dialog1,callback:function(e){t.$set(t.dialog,"modal_dialog1",e)},expression:"dialog.modal_dialog1"}},[s("p"),s("div",[s("Row",[s("i-col",[s("Form",{ref:t.dialog.ruleForm,staticStyle:{"text-align":"center"},attrs:{model:t.formItem,"label-width":80,rules:t.dialog.ruleForm}},[s("FormItem",{attrs:{label:"客户名称",prop:"bsCustomer"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入客户名称"},model:{value:t.formItem.bsCustomer,callback:function(e){t.$set(t.formItem,"bsCustomer",e)},expression:"formItem.bsCustomer"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"客户描述",prop:"bsCustomerDesc"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入客户描述"},model:{value:t.formItem.bsCustomerDesc,callback:function(e){t.$set(t.formItem,"bsCustomerDesc",e)},expression:"formItem.bsCustomerDesc"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"客户地址",prop:"bsAddress"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入客户地址"},model:{value:t.formItem.bsAddress,callback:function(e){t.$set(t.formItem,"bsAddress",e)},expression:"formItem.bsAddress"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"电话",prop:"bsTel"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入电话"},model:{value:t.formItem.bsTel,callback:function(e){t.$set(t.formItem,"bsTel",e)},expression:"formItem.bsTel"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"联系人",prop:"bsContract"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入联系人"},model:{value:t.formItem.bsContract,callback:function(e){t.$set(t.formItem,"bsContract",e)},expression:"formItem.bsContract"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"收货地",prop:"bsShipTo"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入联系人"},model:{value:t.formItem.bsShipTo,callback:function(e){t.$set(t.formItem,"bsShipTo",e)},expression:"formItem.bsShipTo"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("p")]),t._v(" "),s("Modal",{attrs:{title:""},on:{"on-ok":function(e){t.ok()},"on-cancel":t.cancel},model:{value:t.dialog.modal_dialog,callback:function(e){t.$set(t.dialog,"modal_dialog",e)},expression:"dialog.modal_dialog"}},[s("p"),s("div",[s("Row",[s("i-col",[s("Form",{ref:t.dialog.ruleForm,staticStyle:{"text-align":"center"},attrs:{model:t.formItem,"label-width":80,rules:t.dialog.ruleForm}},[s("FormItem",{attrs:{label:"客户名称",prop:"bsCustomer"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入客户名称"},model:{value:t.formItem.bsCustomer,callback:function(e){t.$set(t.formItem,"bsCustomer",e)},expression:"formItem.bsCustomer"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"客户描述",prop:"bsCustomerDesc"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入客户描述"},model:{value:t.formItem.bsCustomerDesc,callback:function(e){t.$set(t.formItem,"bsCustomerDesc",e)},expression:"formItem.bsCustomerDesc"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"客户地址",prop:"bsAddress"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入客户地址"},model:{value:t.formItem.bsAddress,callback:function(e){t.$set(t.formItem,"bsAddress",e)},expression:"formItem.bsAddress"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"电话",prop:"bsTel"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入电话"},model:{value:t.formItem.bsTel,callback:function(e){t.$set(t.formItem,"bsTel",e)},expression:"formItem.bsTel"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"联系人",prop:"bsContract"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入联系人"},model:{value:t.formItem.bsContract,callback:function(e){t.$set(t.formItem,"bsContract",e)},expression:"formItem.bsContract"}})],1)],1)],1),t._v(" "),s("FormItem",{attrs:{label:"收货地",prop:"bsShipTo"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("Input",{attrs:{placeholder:"请输入联系人"},model:{value:t.formItem.bsShipTo,callback:function(e){t.$set(t.formItem,"bsShipTo",e)},expression:"formItem.bsShipTo"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("p")]),t._v(" "),s("Row",[s("i-col",{attrs:{span:"24"}},[s("Table",{staticStyle:{height:"auto"},attrs:{data:t.datagrid.data.rows,columns:t.datagrid.columns,stripe:""}}),t._v(" "),s("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[s("div",{staticStyle:{float:"right"}},[s("Page",{attrs:{total:t.datagrid.data.total,current:1,"page-size":t.datagrid.queryParams.rows,"page-size-opts":t.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.chageSize}})],1)])],1)],1)],1)},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};e.default=a},439:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(1586),o=s.n(r);for(var a in r)"default"!==a&&function(t){s.d(e,t,function(){return r[t]})}(a);var l=s(1753),m=s.n(l),i=s(1),n=i(o.a,m.a,!1,null,null,null);n.options.__file="src\\view\\logistics\\infrastruct\\customer.vue",e.default=n.exports}});
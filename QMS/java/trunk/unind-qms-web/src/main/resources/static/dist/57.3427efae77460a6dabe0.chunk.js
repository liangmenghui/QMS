webpackJsonp([57],{1023:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1582),o=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n(1747),u=n.n(r),i=n(1),c=i(o.a,u.a,!1,null,null,null);c.options.__file="src\\view\\logistics\\booking\\list.vue",e.default=c.exports},1525:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(120),s=a(o),r=n(5),u=a(r);window.localStorage;u.default.use(s.default);var i=new s.default.Store({state:{eable:null,data:null},getters:{getEabel:function(t){return t.eable},getData:function(t){return t.data}},mutations:{changeEable:function(t,e){t.eable=e},changeData:function(t,e){t.data=e}},action:{}});u.default.use(i),e.default=i},1582:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(37),s=a(o),r=(n(120),n(1525)),u=a(r),i=n(29);a(i);e.default={data:function(){return{customers:[{customer:"",desc:"请选择客户"}],agents:[{agent:"",name:name,url:"",desc:"请选择货代"}],form:{customer:"",agent:"",CaName:""}}},mounted:function(){this.loadCustomers()},methods:{save:function(t){var e=this,n=[];(0,s.default)(t).forEach(function(e){n.push({key:e,value:t[e]})}),console.log(n),this.api.lmp.booking.saveList(n).then(function(t){t.result&&e.$Message.success("保存成功")})},handsubmit:function(){u.default.commit("changeEable",1)},loadPageView:function(){var t=this,e="",n="";if(void 0===this.agents||0==this.agents.length)return void console.log("agent is empty");(0,s.default)(this.agents).forEach(function(a){t.agents[a].agent==t.form.agent&&(n=t.agents[a].url,e=t.agents[a].name)}),void 0!==n&&n.length>0&&(n=n+"/"+this.form.customer+"/"+this.form.agent,this.$router.push(n))},loadCustomers:function(){var t=this;this.api.lmp.booking.customers().then(function(e){if(e.result){var n=[{customer:"",desc:"请选择客户"}];e.data.forEach(function(t){n.push({customer:t.bsCustomer,desc:t.bsCustomerDesc})}),t.customers=n}})},loadAgents:function(){var t=this;if(this.agents=[{agent:"",name:name,url:"",desc:"请选择货代"}],void 0==this.form.customer||0==this.form.customer.length)return void console.log("customer is empty");this.api.lmp.booking.agents({customer:this.form.customer}).then(function(e){if(e.result){var n=[{agent:"",name:name,url:"",desc:"请选择货代"}];e.data.forEach(function(t){n.push({agent:t.bsAgent,desc:t.bsAgentDesc,url:t.bsPageUrl,name:t.bsPageName})}),t.agents=n}})}},directives:{},computed:{commitData:function(){return u.default.state.data},formCustomer:function(){return this.form.customer},formAgent:function(){return this.form.agent}},watch:{formCustomer:function(){this.loadAgents()},formAgent:function(){this.loadPageView()},commitData:function(){u.default.commit("changeEable",0);var t=u.default.state.data;null==t&&void 0==t||(console.log(t),this.save(t))}}}},1747:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",[n("i-col",[n("Form",{attrs:{model:t.form,"label-width":120,inline:""}},[n("Form-Item",{staticStyle:{width:"35%"},attrs:{label:"客户"}},[n("Select",{staticStyle:{width:"200px"},model:{value:t.form.customer,callback:function(e){t.$set(t.form,"customer",e)},expression:"form.customer"}},t._l(t.customers,function(e){return n("Option",{key:e.customer,attrs:{value:e.customer}},[t._v(t._s(e.desc))])}))],1),t._v(" "),n("Form-Item",{attrs:{label:"货代"}},[n("Select",{staticStyle:{width:"200px"},model:{value:t.form.agent,callback:function(e){t.$set(t.form,"agent",e)},expression:"form.agent"}},t._l(t.agents,function(e){return n("Option",{key:e.agent,attrs:{value:e.agent}},[t._v(t._s(e.desc))])}))],1),t._v(" "),n("router-view")],1)],1)],1),t._v(" "),n("Row",[n("i-col",{attrs:{span:"24"}},[n("Button",{staticStyle:{position:"fixed",bottom:"10",right:"10px"},attrs:{type:"primary"},on:{click:t.handsubmit}},[t._v("保存")])],1)],1)],1)},o=[];a._withStripped=!0;var s={render:a,staticRenderFns:o};e.default=s}});
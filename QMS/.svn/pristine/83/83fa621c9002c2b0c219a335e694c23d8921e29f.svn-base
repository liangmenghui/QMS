webpackJsonp([27],{1198:function(e,t,a){"use strict";function r(e){p||a(2102)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1783),s=a.n(i);for(var l in i)"default"!==l&&function(e){a.d(t,e,function(){return i[e]})}(l);var n=a(2104),o=a.n(n),p=!1,u=a(1),c=r,d=u(s.a,o.a,!1,c,null,null);d.options.__file="src/views/qms/view/supplier/SupplierList.vue",t.default=d.exports},1783:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(16),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={data:function(){return{tableData:[],expands:[],formQuery:{},showRooterView:!1,queryParams:{page:1,rows:20,pkParent:-1},pageSizesList:[10,25,50,100],totalCount:0,options:[{value:"1",label:"1级"},{value:"2",label:"2级"},{value:"3",label:"3级"},{value:"4",label:"4级"},{value:"5",label:"5级"}],value:""}},created:function(){this.getData(),this.showRooterView=this.$route.matched.length>2},watch:{$route:function(e,t){2==e.matched.length&&this.getData(),this.showRooterView=e.matched.length>2}},methods:{getData:function(){var e=this,t=(0,i.default)({},this.$route.query,this.formQuery,this.queryParams);this.api.supplierinfo.getlist(t).then(function(t){e.tableData=t.data.rows,e.totalCount=t.data.total})},cleargetData:function(){this.formQuery.bsRiskLevel=""},rowClick:function(e,t,a){Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},this.expands.indexOf(e.id)<0?this.expands.push(e.id):this.expands.remove(e.id)},pushToChildWithData:function(e,t){this.$store.commit("updateSupplierDataStates",t.row),this.$router.push({path:e})},pushToSupplierArrovedFlow:function(e,t){this.$router.push({path:e,query:{bsFlowRecordId:t.row.bsSuppRecordId}})},pushToApprovedCreator:function(e,t){this.$router.push({path:e,query:{supplier:t.row.id,bsName:t.row.bsSuppChieseName,bsCode:t.row.bsSuppCode}})},changePage:function(e){this.queryParams.page=e,this.getData()},SizeChange:function(e){this.queryParams.rows=e,this.getData()},formatter:function(e,t){return this.$t("supplier.StatusDesc["+e.bsSuppStatus+"]")}}}},2102:function(e,t,a){var r=a(2103);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(29)("5197b67c",r,!1)},2103:function(e,t,a){t=e.exports=a(28)(!1),t.push([e.i,"\n.ApprovedFlowManagement .ivu-table {\n  font-size: 14px;\n}\n.ApprovedTermsManagement .ivu-table-cell {\n  font-size: 14px;\n}\n.SampleManagement .ivu-table {\n  font-size: 14px;\n}\n.SampleRegularManagement .ivu-table {\n  font-size: 14px;\n}\n.ivu-input {\n  height: 38px;\n}\n.block {\n  text-align: right;\n  margin-top: 10px;\n}\n.mytable.el-table th {\n  background: #f0f0f0 !important;\n}\n",""])},2104:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"SupplierList"},[e.showRooterView?e.showRooterView?a("section",[a("router-view")],1):e._e():a("section",[a("Row",{staticStyle:{"margin-bottom":"10px"}},[a("Select",{staticStyle:{width:"200px",display:"inline-block","margin-top":"-4px"},attrs:{size:"large",placeholder:"按风险等级搜索"},model:{value:e.formQuery.bsRiskLevel,callback:function(t){e.$set(e.formQuery,"bsRiskLevel",t)},expression:"formQuery.bsRiskLevel"}},e._l(e.options,function(e){return a("Option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-input",{staticStyle:{width:"200px",display:"inline-block"},attrs:{size:"medium",placeholder:e.$t("Button.Keyword-search")},model:{value:e.formQuery.keyWord,callback:function(t){e.$set(e.formQuery,"keyWord",t)},expression:"formQuery.keyWord"}}),e._v(" "),a("el-button",{staticStyle:{padding:"10px 10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getData}},[e._v(e._s(e.$t("Button.Inquire")))]),e._v(" "),a("el-button",{staticStyle:{padding:"10px 10px"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.cleargetData}},[e._v(e._s(e.$t("Button.Reset")))])],1),e._v(" "),[a("el-table",{staticClass:"mytable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","expand-row-keys":e.expands},on:{"row-click":e.rowClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-button",{directives:[{name:"perm-query",rawName:"v-perm-query"}],attrs:{size:"small",type:"primary"},on:{click:function(a){e.pushToChildWithData("supplier/basicInfo",t)}}},[e._v("\n                \t\t"+e._s(e.$t("supplier.BasicInfo"))+"\n                \t")]),e._v(" "),a("el-button",{directives:[{name:"perm-query",rawName:"v-perm-query"}],attrs:{size:"small",type:"primary"},on:{click:function(a){e.pushToChildWithData("supplier/advanceInfo",t)}}},[e._v("\n                \t\t"+e._s(e.$t("supplier.AdvancelInfo"))+"\n                \t")]),e._v(" "),a("el-button",{directives:[{name:"perm-query",rawName:"v-perm-query"}],attrs:{size:"small",type:"primary"},on:{click:function(a){e.pushToChildWithData("supplier/riskManagement",t)}}},[e._v("\n                \t\t"+e._s(e.$t("supplier.RiskManage"))+"\n                \t")]),e._v(" "),a("el-button",{directives:[{name:"perm-alloc",rawName:"v-perm-alloc"}],attrs:{size:"small",type:"primary",disabled:1==t.row.bsIsApprove},on:{click:function(a){e.pushToApprovedCreator("supplier/createApprovedRecord",t)}}},[e._v("\n                  \t"+e._s(e.$t("supplier.NewAudit"))+"\n                  ")]),e._v(" "),a("el-button",{directives:[{name:"perm-verify",rawName:"v-perm-verify"}],attrs:{size:"small",type:"primary",disabled:0==t.row.bsIsApprove},on:{click:function(a){e.pushToSupplierArrovedFlow("supplier/approved",t)}}},[e._v("\n                \t\t"+e._s(e.$t("supplier.SupplierAudit"))+"\n                \t")]),e._v(" "),a("el-button",{directives:[{name:"perm-query",rawName:"v-perm-query"}],attrs:{size:"small",type:"primary"},on:{click:function(a){e.pushToChildWithData("supplier/approvedRecordsList",t)}}},[e._v("\n                \t\t"+e._s(e.$t("supplier.AuditTrails"))+"\n                \t")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("supplier.code"),width:"170px",prop:"bsSuppCode"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("supplier.ChieseName"),width:"330px",prop:"bsSuppChieseName"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("supplier.AliaName"),width:"180px",prop:"bsSuppAliaName"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("supplier.ContactName"),width:"150px",prop:"bsSuppContactName"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("supplier.Mobile"),width:"200px",prop:"bsSuppMobile"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("supplier.RiskLevel"),width:"150px",prop:"bsRiskLevel"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("supplier.Type"),width:"150px",prop:"bsSuppType"}})],1)],e._v(" "),[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{current:1,"current-page":e.queryParams.page,"page-sizes":e.pageSizesList,"page-size":e.queryParams.rows,layout:"total, sizes, prev, pager, next, jumper","page-size-opts":e.pageSizesList,total:e.totalCount},on:{"current-change":e.changePage,"size-change":e.SizeChange,"update:currentPage":function(t){e.$set(e.queryParams,"page",t)}}})],1)]],2)])},i=[];r._withStripped=!0;var s={render:r,staticRenderFns:i};t.default=s}});
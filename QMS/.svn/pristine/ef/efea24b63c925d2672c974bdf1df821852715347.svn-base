webpackJsonp([76],{1205:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(1923),s=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(a,t,function(){return r[t]})}(o);var n=e(2109),i=e.n(n),d=e(1),l=d(s.a,i.a,!1,null,null,null);l.options.__file="src/view/member/lab/sample/samplereport.vue",a.default=l.exports},1923:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(72),s=function(t){return t&&t.__esModule?t:{default:t}}(r),o=e(98);a.default={data:function(){var t=this;return{start:0,end:15,formQuery:{bsCode:"",bsName:""},dialog:{modal_dialog:!1,formItem:{},ruleForm:{bsCode:[{required:!0,message:"请填写编码",trigger:"blur"}],bsName:[{required:!0,message:"请填写名称",trigger:"blur"}]}},dict:{bsStatus:[{value:0,name:"待测试"},{value:1,name:"测试中"},{value:2,name:"已完成"},{value:3,name:"已中止"}]},datagrid:{queryParams:{page:1,rows:15,pkParent:-1},pagination:[15,50,100],data:{rows:[],total:0,rows1:[]},columns:[{title:"产品编码",key:"bsCode"},{title:"样品名称",key:"bsName"},{title:"开始时间",key:"bsSampleStatrtTime"},{title:"完成时间",key:"bsCompTime"},{title:"状态",key:"bsStatus",render:function(a,e){return a("span",t.dict.bsStatus[e.row.bsStatus].name)}},{title:"操作",key:"action",render:function(a,e){var r=[];return t.menuData.perms.EDIT&&r.push(a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.downloadData(e)}}},"下载实验数据")),t.menuData.perms.DELETE&&r.push(a("Button",{props:{type:"error",size:"small"},on:{click:function(){t.downloadReport(e)}}},"下载检测报告")),a("div",r)}}]}}},created:function(){this.getData()},computed:(0,s.default)({},(0,o.mapState)({menuData:function(t){return t.menuData}})),methods:{downloadReport:function(t){window.location.href="/admin/lab/sample/downloadReport?bsCode="+t.row.bsCode+"&bsName="+t.row.bsName},downloadData:function(t){window.location.href="/admin/lab/sample/downloadData?bsCode="+t.row.bsCode+"&bsName="+t.row.bsName},getData:function(){var t=this;this.api.sample.selectall().then(function(a){a.result?(t.datagrid.data.rows=a.data.rows.slice(t.start,t.end),t.datagrid.data.total=a.data.total):t.$Message.error(a.msg)})},changePage:function(t){this.start=(t-1)*this.datagrid.queryParams.rows,this.end=t*this.datagrid.queryParams.rows,this.getData()},chageSize:function(t){this.datagrid.queryParams.rows=t,this.start=0,this.end=t,this.getData()}}}},2109:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Row",[e("i-col",{attrs:{span:"24"}},[e("Table",{staticStyle:{height:"auto"},attrs:{data:t.datagrid.data.rows,columns:t.datagrid.columns,stripe:""}}),t._v(" "),e("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[e("div",{staticStyle:{float:"right"}},[e("Page",{attrs:{total:t.datagrid.data.total,current:1,"page-size":t.datagrid.queryParams.rows,"page-size-opts":t.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.chageSize}})],1)])],1)],1)],1)},s=[];r._withStripped=!0;var o={render:r,staticRenderFns:s};a.default=o}});
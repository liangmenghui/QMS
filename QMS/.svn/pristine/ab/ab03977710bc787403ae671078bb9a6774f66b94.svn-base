webpackJsonp([80],{1202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1785),o=r.n(a);for(var s in a)"default"!==s&&function(e){r.d(t,e,function(){return a[e]})}(s);var n=r(2089),i=r.n(n),l=r(1),m=l(o.a,i.a,!1,null,null,null);m.options.__file="src/view/logistics/infrastruct/supplier.vue",t.default=m.exports},1785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(72),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(98);t.default={created:function(){this.getData()},computed:(0,o.default)({},(0,s.mapState)({menuData:function(e){return e.menuData}})),data:function(){var e=this;return{start:0,end:15,dialog:{modal_dialog:!1,modal_dialog1:!1,ruleForm:{bsOrganizationId:[{required:!0,message:"请填写组织ID",trigger:"blur"}],bsVendorId:[{required:!0,message:"请填写供应商ID",trigger:"blur"}],bsSegment1:[{required:!0,message:"请填写供应商编号",trigger:"blur"}]}},formItem:{id:"",bsOrganizationId:"",bsVendorName:"",bsSegment1:"",bsVendorId:"",bsAddressLine1:""},formQuery:{bsSegment1:"",bsVendorName:""},datagrid:{queryParams:{page:1,rows:15,pkParent:-1},pagination:[15,50,100],data:{rows:[],total:0,rows1:[]},columns:[{title:"组织ID",key:"bsOrganizationId"},{title:"供应商ID",key:"bsVendorId"},{title:"供应商编号",key:"bsSegment1"},{title:"供应商名称",key:"bsVendorName"},{title:"地址",key:"bsAddressLine1"},{title:"操作",key:"action",render:function(t,r){var a=[];return e.menuData.perms.EDIT,a.push(t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.delete(r)}}},"删除")),t("div",a)}}]}}},methods:{getData:function(){var e=this;this.api.lmp.supplier.selectSupplier(this.datagrid.queryParams).then(function(t){t.result?(e.datagrid.data.rows=t.data.rows,e.datagrid.data.total=t.data.total):e.$Message.error(t.msg)})},showAddDialog:function(){this.formItem.id="",this.formItem.bsOrganizationId="",this.formItem.bsVendorId="",this.formItem.bsSegment1="",this.formItem.bsVendorName="",this.formItem.bsAddressLine1="",this.dialog.modal_dialog=!0},check:function(){return""==this.formItem.bsOrganizationId||null==this.formItem.bsOrganizationId?(this.$Message.error("组织ID不能为空"),!1):""==this.formItem.bsVendorId||null==this.formItem.bsVendorId?(this.$Message.error(" 供应商ID不能为空"),!1):""!=this.formItem.bsSegment1&&null!=this.formItem.bsSegment1||(this.$Message.error("供应商编号不能为空"),!1)},ok:function(){var e=this;if(!this.check())return!1;this.api.lmp.supplier.insertSupplier(this.formItem).then(function(t){t.result?(e.getData(),e.$Message.success("添加成功！")):e.$Message.error("添加失败！")})},ok1:function(){var e=this;if(!this.check())return!1;this.api.lmp.supplier.updateSupplier(this.formItem).then(function(t){t.result?(e.getData(),e.$Message.success("更新成功！")):e.$Message.error("更新失败！")})},cancel:function(){},delete:function(e){var t=this;this.$Modal.confirm({title:"提示信息",content:"<p>是否确定删除？</p>",loading:!0,onOk:function(){t.api.lmp.supplier.deleteSupplier(e.row).then(function(e){e.result?(t.getData(),t.$Message.success("删除成功！"),t.$Modal.remove()):t.$Message.error("删除失败！")})}})},showEditDialog:function(e){this.formItem.id=e.row.id,this.formItem.bsOrganizationId=e.row.bsOrganizationId,this.formItem.bsVendorId=e.row.bsVendorId,this.formItem.bsSegment1=e.row.bsSegment1,this.formItem.bsVendorName=e.row.bsVendorName,this.formItem.bsAddressLine1=e.row.bsAddressLine1,this.dialog.modal_dialog1=!0},handleSubmit:function(){var e=this;this.api.lmp.supplier.selectBySupplier(this.formQuery).then(function(t){t.result?e.datagrid.data=t.data:e.$Message.error(t.msg)})},changePage:function(e){this.datagrid.queryParams.page=e,this.getData()},chageSize:function(e){this.datagrid.queryParams.rows=e,this.getData()}}}},2089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("Row",[r("i-col",[r("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:e.formQuery,inline:""}},[r("Form-item",[r("Input",{attrs:{placeholder:"请输入供应商编号"},model:{value:e.formQuery.bsSegment1,callback:function(t){e.$set(e.formQuery,"bsSegment1",t)},expression:"formQuery.bsSegment1"}})],1),e._v(" "),r("Form-item",[r("Input",{attrs:{placeholder:"请输入供应商名称"},model:{value:e.formQuery.bsVendorName,callback:function(t){e.$set(e.formQuery,"bsVendorName",t)},expression:"formQuery.bsVendorName"}})],1),e._v(" "),r("Form-item",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit()}}},[e._v("查 询")])],1)],1)],1)],1)],1),e._v(" "),r("Modal",{attrs:{title:""},on:{"on-ok":e.ok1,"on-cancel":e.cancel},model:{value:e.dialog.modal_dialog1,callback:function(t){e.$set(e.dialog,"modal_dialog1",t)},expression:"dialog.modal_dialog1"}},[r("p",{staticStyle:{color:"rgb(99, 168, 168)","text-align":"center"},attrs:{slot:"header"},slot:"header"},[r("Icon",{attrs:{type:"information-circled"}}),e._v(" "),r("span",[e._v("编 辑")])],1),e._v(" "),r("p"),r("div",[r("Row",[r("i-col",[r("Form",{ref:e.dialog.ruleForm,staticStyle:{"text-align":"center"},attrs:{model:e.formItem,"label-width":80,rules:e.dialog.ruleForm}},[r("FormItem",{attrs:{label:"组织ID",prop:"bsOrganizationId"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("InputNumber",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入组织ID"},model:{value:e.formItem.bsOrganizationId,callback:function(t){e.$set(e.formItem,"bsOrganizationId",t)},expression:"formItem.bsOrganizationId"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"供应商ID",prop:"bsVendorId"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("InputNumber",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入供应商ID"},model:{value:e.formItem.bsVendorId,callback:function(t){e.$set(e.formItem,"bsVendorId",t)},expression:"formItem.bsVendorId"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"供应商编号",prop:"bsSegment1"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("Input",{attrs:{placeholder:"请输入供应商编号"},model:{value:e.formItem.bsSegment1,callback:function(t){e.$set(e.formItem,"bsSegment1",t)},expression:"formItem.bsSegment1"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"供应商名称",prop:"bsVendorName"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("Input",{attrs:{placeholder:"请输入地址"},model:{value:e.formItem.bsVendorName,callback:function(t){e.$set(e.formItem,"bsVendorName",t)},expression:"formItem.bsVendorName"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"地址",prop:"bsAddressLine1"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("Input",{attrs:{placeholder:"请输入地址"},model:{value:e.formItem.bsAddressLine1,callback:function(t){e.$set(e.formItem,"bsAddressLine1",t)},expression:"formItem.bsAddressLine1"}})],1)],1)],1)],1)],1)],1)],1),e._v(" "),r("p")]),e._v(" "),r("Modal",{attrs:{title:""},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.dialog.modal_dialog,callback:function(t){e.$set(e.dialog,"modal_dialog",t)},expression:"dialog.modal_dialog"}},[r("p",{staticStyle:{color:"rgb(99, 168, 168)","text-align":"center"},attrs:{slot:"header"},slot:"header"},[r("Icon",{attrs:{type:"information-circled"}}),e._v(" "),r("span",[e._v("添 加")])],1),e._v(" "),r("p"),r("div",[r("Row",[r("i-col",[r("Form",{ref:e.dialog.ruleForm,staticStyle:{"text-align":"center"},attrs:{model:e.formItem,"label-width":80,rules:e.dialog.ruleForm}},[r("FormItem",{attrs:{label:"组织ID",prop:"bsOrganizationId"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("InputNumber",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入组织ID"},model:{value:e.formItem.bsOrganizationId,callback:function(t){e.$set(e.formItem,"bsOrganizationId",t)},expression:"formItem.bsOrganizationId"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"供应商ID",prop:"bsVendorId"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("InputNumber",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入供应商ID"},model:{value:e.formItem.bsVendorId,callback:function(t){e.$set(e.formItem,"bsVendorId",t)},expression:"formItem.bsVendorId"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"供应商编号",prop:"bsSegment1"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("Input",{attrs:{placeholder:"请输入供应商编号"},model:{value:e.formItem.bsSegment1,callback:function(t){e.$set(e.formItem,"bsSegment1",t)},expression:"formItem.bsSegment1"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"供应商名称",prop:"bsVendorName"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("Input",{attrs:{placeholder:"请输入地址"},model:{value:e.formItem.bsVendorName,callback:function(t){e.$set(e.formItem,"bsVendorName",t)},expression:"formItem.bsVendorName"}})],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"地址",prop:"bsAddressLine1"}},[r("Row",[r("Col",{attrs:{span:"15"}},[r("Input",{attrs:{placeholder:"请输入地址"},model:{value:e.formItem.bsAddressLine1,callback:function(t){e.$set(e.formItem,"bsAddressLine1",t)},expression:"formItem.bsAddressLine1"}})],1)],1)],1)],1)],1)],1)],1),e._v(" "),r("p")]),e._v(" "),r("Row",[r("i-col",{attrs:{span:"24"}},[r("Table",{staticStyle:{height:"500px"},attrs:{data:e.datagrid.data.rows,columns:e.datagrid.columns,stripe:""}}),e._v(" "),r("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[r("div",{staticStyle:{float:"right"}},[r("Page",{attrs:{total:e.datagrid.data.total,current:1,"page-size":e.datagrid.queryParams.rows,"page-size-opts":e.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.chageSize}})],1)])],1)],1)],1)},o=[];a._withStripped=!0;var s={render:a,staticRenderFns:o};t.default=s}});
webpackJsonp([41],{1233:function(t,e,a){"use strict";function i(t){l||a(2218)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(1957),o=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);var d=a(2220),r=a.n(d),l=!1,c=a(1),u=i,b=c(o.a,r.a,!1,u,null,null);b.options.__file="src/views/qms/view/feedback/ReturnGoods.vue",e.default=b.exports},1957:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{refunddata:[],productNames:[],form:{bsStatus:2},suppliers:[],products:[],refundModal:!1,approverModal:!1}},created:function(){this.getData()},methods:{getData:function(t){var e=this;this.api.supplierinfo.getlist({page:1,rows:100,keyWord:t}).then(function(t){e.suppliers=t.data.rows.map(function(t){return t.value=t.bsSuppChieseName,t})}),this.api.feedbackRefund.getlist().then(function(t){e.refunddata=t.data.rows})},getProductData:function(t){var e=this;this.api.productinfo.getlist({suppCode:t}).then(function(t){e.products=t.data.rows.map(function(t){return t.value=t.bsPrName,t})})},queryProduct:function(t,e){var a=this.products;e(t?a.filter(this.nameFilter(t)):a)},querySupplier:function(t,e){var a=this;this.api.supplierinfo.getlist({page:1,rows:100,keyWord:t}).then(function(t){a.suppliers=t.data.rows.map(function(t){return t.value=t.bsSuppChieseName,t}),e(a.suppliers)})},supplierFilter:function(t){return function(e){return 0===e.bsSuppChieseName.toLowerCase().indexOf(t.toLowerCase())}},productFileter:function(t){return function(e){return 0===e.bsPrName.toLowerCase().indexOf(t.toLowerCase())}},handleSelectSupplier:function(t){this.form.bsSuppId=t.id,this.form.bsSuppCompanyCode=t.bsSuppCode,this.getProductData(t.bsSuppCode)},handleSelectProduct:function(t){var e=this;this.form.bsPrId=t.id,this.form.bsPrName=t.bsPrName,this.form.bsPrCode=t.bsPrCode,void 0==this.form.id&&this.api.feedback.add(this.form).then(function(t){e.form.bsFeedbackId=t.data.id})},showrefundModal:function(){this.refundModal=!0},showApproverModal:function(){this.approverModal=!0},addrefundok:function(){var t=this;this.api.feedbackRefund.add(this.form).then(function(e){t.getData()})},deleterefund:function(t){var e=this;this.api.feedbackRefund.delete({id:t.row.id}).then(function(t){e.getData()}),this.api.feedback.delete({id:t.row.bsFeedbackId}).then(function(t){})},ok:function(){},cancel:function(){}}}},2218:function(t,e,a){var i=a(2219);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(21)("c042154a",i,!1)},2219:function(t,e,a){e=t.exports=a(20)(!1),e.push([t.i,'\n#basic-body1:after{\n\t\tcontent:".";\n\t\tvisibility:hidden;\n\t\tdisplay:block; \n\t\tclear:both;\n}\n#basic-body1 .basic-body-div{\n\t\tfloat: left;height: 50px;\n}\n#basic-body1 .basic-body-text{\n\t\tfloat: left;margin-top: 10px;width: 150px;margin-left:20px;font-size: 14px;text-align: right;\n}\n#basic-body1 .basic-body-input{\n\t\tfloat: left;width: 300px;\n}\n#basic-body2:after{\n\t\tcontent:".";\n\t\tvisibility:hidden;\n\t\tdisplay:block; \n\t\tclear:both;\n}\n#basic-body3:after{\n\t\tcontent:".";\n\t\tvisibility:hidden;\n\t\tdisplay:block; \n\t\tclear:both;\n}\n.basic-body-div{\n\t\tfloat: left;height: 50px;\n}\n.basic-body-text{\n\t\tfloat: left;margin-top: 10px;width: 100px;font-size: 14px;text-align: right;\n}\n.basic-body-input{\n\t\tfloat: left;width: 230px;\n}\n.refund-body-div{\n\t\theight: 50px;\n}\n.refund-body-text{\n\t\tfloat: left;margin-top: 10px;width: 130px;font-size: 14px;text-align: right;\n}\n.refund-body-input{\n\t\tfloat: left;width: 300px;\n}\n#refund-body .ivu-checkbox-wrapper{\n        width: 160px;margin-top: 10px;margin-left: 10px;font-size: 14px;\n}\n#refund-why:after{\n        content:".";\n        visibility:hidden;\n        display:block; \n        clear:both;\n}\n',""])},2220:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{style:{marginBottom:"20px"}},[a("center",[a("h4",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("feedback.GenerateRefundForm")))])])],1),t._v(" "),a("Row",{style:{marginBottom:"20px"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{staticStyle:{color:"#ff9900","font-size":"18px"},attrs:{type:"social-buffer"}}),t._v("\n                     "+t._s(t.$t("supplier.BasicInfo"))+"\n               \t")],1),t._v(" "),a("div",[a("div",{attrs:{id:"basic-body1"}},[a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.supplier"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":t.querySupplier},on:{select:t.handleSelectSupplier},model:{value:t.form.bsSuppCompanyName,callback:function(e){t.$set(t.form,"bsSuppCompanyName",e)},expression:"form.bsSuppCompanyName"}})],1)]),t._v(" "),a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.DeductionsOrder"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-input")],1)]),t._v(" "),a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.DateOfDeductions"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{size:"large",type:"date",placeholder:"选择日期"}})],1)]),t._v(" "),a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.DateOfQualityAccident"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{size:"large",type:"date",placeholder:"选择日期"}})],1)])]),t._v(" "),a("div",{attrs:{id:"basic-body2"}},[a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.notifier"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-input")],1)]),t._v(" "),a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Email"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-input")],1)]),t._v(" "),a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Mobile"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-input")],1)])]),t._v(" "),a("div",{attrs:{id:"basic-body3"}},[a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("approved.Customer"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-input")],1)]),t._v(" "),a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Email"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-input")],1)]),t._v(" "),a("div",{staticClass:"basic-body-div"},[a("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Mobile"))+"：")]),t._v(" "),a("div",{staticClass:"basic-body-input"},[a("el-input")],1)])])])])],1),t._v(" "),a("Row",{style:{marginBottom:"20px"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{staticStyle:{color:"#ff9900","font-size":"18px"},attrs:{type:"cash"}}),t._v("\n                     "+t._s(t.$t("feedback.TheRefundInformation"))+"\n               \t")],1),t._v(" "),a("div",{attrs:{id:"refund-body"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.refunddata}},[a("el-table-column",{attrs:{prop:"id",label:t.$t("feedback.SequenceNumber"),align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bsReportNo",label:t.$t("feedback.ReportNumber")}}),t._v(" "),a("el-table-column",{attrs:{prop:"bsPrId",label:t.$t("product.code")}}),t._v(" "),a("el-table-column",{attrs:{prop:"bsNum",label:t.$t("feedback.amount")}}),t._v(" "),a("el-table-column",{attrs:{prop:"bsPrice",label:t.$t("feedback.unitprice")}}),t._v(" "),a("el-table-column",{attrs:{prop:"bsSum",label:t.$t("feedback.deduction")}}),t._v(" "),a("el-table-column",{attrs:{prop:"bsReason",label:t.$t("feedback.DeductionsFor")}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Button.operating")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.deleterefund(e)}}},[t._v("\n                                "+t._s(t.$t("Button.Delete"))+"\n                                ")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("center",[a("el-button",{staticStyle:{padding:"5px 10px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.showrefundModal()}}},[t._v("\n            \t\t\t\t    "+t._s(t.$t("feedback.addarefund"))+"\n            \t\t\t     ")])],1)],1),t._v(" "),a("Modal",{attrs:{title:t.$t("feedback.TheRefundInformation")},on:{"on-ok":t.addrefundok,"on-cancel":t.cancel},model:{value:t.refundModal,callback:function(e){t.refundModal=e},expression:"refundModal"}},[a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("left-menu.Product"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":t.queryProduct},on:{select:t.handleSelectProduct},model:{value:t.form.bsPrName,callback:function(e){t.$set(t.form,"bsPrName",e)},expression:"form.bsPrName"}})],1)]),t._v(" "),a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("product.code"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-input",{model:{value:t.form.bsPrCode,callback:function(e){t.$set(t.form,"bsPrCode",e)},expression:"form.bsPrCode"}})],1)]),t._v(" "),a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.amount"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-input",{model:{value:t.form.bsNum,callback:function(e){t.$set(t.form,"bsNum",e)},expression:"form.bsNum"}})],1)]),t._v(" "),a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.unitprice"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-input",{model:{value:t.form.bsPrice,callback:function(e){t.$set(t.form,"bsPrice",e)},expression:"form.bsPrice"}})],1)]),t._v(" "),a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.deduction"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-input",{model:{value:t.form.bsSum,callback:function(e){t.$set(t.form,"bsSum",e)},expression:"form.bsSum"}})],1)]),t._v(" "),a("div",{attrs:{id:"refund-why"}},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.DeductionsFor"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.bsReason,callback:function(e){t.$set(t.form,"bsReason",e)},expression:"form.bsReason"}})],1)])]),t._v(" "),a("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("Alert",{attrs:{"show-icon":""}},[t._v(t._s(t.$t("feedback.DearSuppliersTheFollowingSituationsWillResultInAQualityDeduction"))+"：\n                        ")]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.GoodsAreRejectedOrScrapped")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.EmergencyReplacementOfGoods")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.CustomerSiteSortingGoods")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.SeparateGoodsFromForeignWarehouses")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.labelerror")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.CustomersGiveInToDifferences")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.airfreight")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.rework")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.CustomerFines")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.GoodsReturnedToSupplier")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.CargoInclusion")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.TheCustomerIsOutOfStock")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.TheQuantityOfGoodsInTheBoxDoesNotTally")))]),t._v(" "),a("Checkbox",[t._v(t._s(t.$t("feedback.OtherPossibleCosts")))])],1)],1)])],1),t._v(" "),a("Row",{style:{marginBottom:"20px"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{staticStyle:{color:"#ff9900","font-size":"18px"},attrs:{type:"compose"}}),t._v("\n                     "+t._s(t.$t("feedback.ApprovalInformation"))+"\n               \t")],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.refunddata}},[a("el-table-column",{attrs:{prop:"",label:t.$t("feedback.department"),align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:t.$t("feedback.name")}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:t.$t("supplier.Position")}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:t.$t("feedback.date")}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Button.operating")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"}},[t._v(t._s(t.$t("Button.confirm")))]),t._v(" "),a("el-button",{attrs:{size:"mini"}},[t._v(t._s(t.$t("Button.Delete")))])]}}])})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("center",[a("el-button",{staticStyle:{padding:"5px 10px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.showApproverModal()}}},[t._v("\n                            "+t._s(t.$t("feedback.addapprover"))+"\n                            ")])],1)],1),t._v(" "),a("Modal",{attrs:{title:t.$t("feedback.ApproverInformation")},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.approverModal,callback:function(e){t.approverModal=e},expression:"approverModal"}},[a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.approver"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("Select",{staticStyle:{width:"300px",display:"inline-block"},attrs:{size:"large",placeholder:"选择"},model:{value:t.productNames,callback:function(e){t.productNames=e},expression:"productNames"}},t._l(t.productNames,function(t){return a("Option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.name"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-input")],1)]),t._v(" "),a("div",{staticClass:"refund-body-div"},[a("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("supplier.Position"))+"：")]),t._v(" "),a("div",{staticClass:"refund-body-input"},[a("el-input")],1)])]),t._v(" "),a("Alert",{attrs:{"show-icon":""}},[t._v("\n                    "+t._s(t.$t("feedback.TheManagerOfTheMinistryOfCommerceIsRequiredToConfirmTheQualityDeductionOver10000RMB"))+"\n                    ")])],1)])],1)],1)},s=[];i._withStripped=!0;var o={render:i,staticRenderFns:s};e.default=o}});
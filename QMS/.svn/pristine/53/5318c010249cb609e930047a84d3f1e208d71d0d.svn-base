webpackJsonp([82],{1187:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(1902),r=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);var s=a(2074),n=a.n(s),l=a(1),d=l(r.a,n.a,!1,null,null,null);d.options.__file="src/view/member/ext/custom/index.vue",e.default=d.exports},1902:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(22),i=o(r),s=a(11),n=o(s),l=a(72),d=o(l),m=a(98);e.default={data:function(){var t=this;return{formQuery:{bsCode:"",bsName:""},dialog:{modal_dialog:!1,formItem:{},ruleForm:{bsCode:[{required:!0,message:"请填写编码",trigger:"blur"}],bsName:[{required:!0,message:"请填写备注",trigger:"blur"}]}},datagrid:{queryParams:{page:1,rows:25,pkParent:-1},pagination:[25,50,100],data:{rows:[],total:0},columns:[{title:"客制化属性",key:"bsCode",align:"center",render:function(e,a){return e("Button",{props:{type:"text",size:"small"},on:{click:function(){var e={bsCode:a.row.bsCode};t.$router.push({name:"XTGL_KZHSX",query:e})}}},a.row.bsCode)}},{title:"描述",key:"bsComment"},{title:"操作",key:"action",render:function(e,a){var o=[];return o.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showEditDialog(a)}}},"编辑")),o.push(e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.delete(a)}}},"删除")),e("div",o)}}]}}},created:function(){this.reloadData()},computed:(0,d.default)({},(0,m.mapState)({menuData:function(t){return t.menuData}})),methods:{handleSubmit:function(t){this.getData()},getData:function(){var t=this;(0,n.default)(this.formQuery,this.datagrid.queryParams),this.api.admin.custom.getlist(this.formQuery).then(function(e){e.result?t.datagrid.data=e.data:t.$Message.error(e.msg)})},reloadData:function(){this.datagrid.data=this.getData()},changePage:function(t){this.datagrid.queryParams.page=t,this.datagrid.data=this.getData()},edit:function(t){var e=this;this.api.admin.custom.edit(t.row).then(function(t){t.result?e.reloadData():e.$Message.error(t.msg)})},delete:function(t){var e=this;this.$Modal.confirm({title:"提示信息",content:"<p>是否确定删除？</p>",loading:!0,onOk:function(){e.api.admin.custom.delete({id:t.row.id}).then(function(t){t.result?(e.reloadData(),e.$Message.info("删除成功"),e.$Modal.remove()):e.$Message.error(t.msg)})}})},showAddDialog:function(){this.dialog.modal_dialog=!0,this.dialog.formItem={}},showEditDialog:function(t){this.dialog.modal_dialog=!0;var e=t.row;this.dialog.formItem={id:e.id,bsCode:e.bsCode,bsComment:e.bsComment}},ok:function(){var t=this;void 0!=(0,i.default)(this.dialog.formItem.id)&&"number"==typeof this.dialog.formItem.id?this.api.admin.custom.edit(this.dialog.formItem).then(function(e){e.result?t.reloadData():t.$Message.error(e.msg)}):this.api.admin.custom.add(this.dialog.formItem).then(function(e){e.result?t.reloadData():t.$Message.error(e.msg)})},cancel:function(){}}}},2074:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("i-col",[a("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:t.formQuery,inline:""}},[a("Form-item",{attrs:{prop:"bsCode"}},[a("Input",{attrs:{placeholder:"编码"},model:{value:t.formQuery.bsCode,callback:function(e){t.$set(t.formQuery,"bsCode",e)},expression:"formQuery.bsCode"}})],1),t._v(" "),a("Form-item",{attrs:{prop:"bsName"}},[a("Input",{attrs:{placeholder:"名称"},model:{value:t.formQuery.bsName,callback:function(e){t.$set(t.formQuery,"bsName",e)},expression:"formQuery.bsName"}})],1),t._v(" "),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formQuery")}}},[t._v("查 询")])],1),t._v(" "),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.showAddDialog()}}},[t._v("新 增")])],1)],1)],1)],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"24"}},[a("Table",{staticStyle:{height:"500px"},attrs:{data:t.datagrid.data.rows,columns:t.datagrid.columns,stripe:""}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.datagrid.data.total,current:1,"page-size":t.datagrid.queryParams.rows,"page-size-opts":t.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage}})],1)])],1)],1),t._v(" "),a("Modal",{attrs:{title:""},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.dialog.modal_dialog,callback:function(e){t.$set(t.dialog,"modal_dialog",e)},expression:"dialog.modal_dialog"}},[a("p",[a("Form",{ref:t.dialog.ruleForm,attrs:{model:t.dialog.formItem,rules:t.dialog.ruleForm,"label-width":80}},[a("span",{staticStyle:{display:"none"}},[a("Input",{model:{value:t.dialog.formItem.id,callback:function(e){t.$set(t.dialog.formItem,"id",e)},expression:"dialog.formItem.id"}})],1),t._v(" "),a("Form-item",{attrs:{label:"编码",prop:"bsCode"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.dialog.formItem.bsCode,callback:function(e){t.$set(t.dialog.formItem,"bsCode",e)},expression:"dialog.formItem.bsCode"}})],1),t._v(" "),a("Form-item",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",placeholder:"请输入..."},model:{value:t.dialog.formItem.bsComment,callback:function(e){t.$set(t.dialog.formItem,"bsComment",e)},expression:"dialog.formItem.bsComment"}})],1)],1)],1)])],1)},r=[];o._withStripped=!0;var i={render:o,staticRenderFns:r};e.default=i}});
webpackJsonp([20],{1175:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(1756),n=a.n(r);for(var o in r)"default"!==o&&function(t){a.d(e,t,function(){return r[t]})}(o);var i=a(2061),s=a.n(i),d=a(1),c=d(n.a,s.a,!1,null,null,null);c.options.__file="src/view/member/pmp/mrp/shipment.vue",e.default=c.exports},1756:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(16),o=r(n),i=a(98),s=r(i),d=a(97),c=a(2057),u=r(c);e.default={created:function(){this.getData(),this.getTransCode()},computed:(0,s.default)({},(0,d.mapState)({menuData:function(t){return t.menuData}})),data:function(){return{bsTransportCodelist:[],formQuery:{cdSendDate:"",cdTransCode:""},datagrid:{queryParams:{page:1,rows:15},pagination:[15,50,100],data:{rows:[],total:0,rows1:[]},columns:[{type:"expand",width:100,render:function(t,e){return t(u.default,{props:{row:e.row}})}},{title:"发货日期",key:"cdSendDate"},{title:"运输路线",key:"cdTransCode"}]}}},methods:{getData:function(){var t=this;(0,o.default)(this.formQuery,this.datagrid.queryParams),this.api.pmp.getShipmentPlan(this.formQuery).then(function(e){e.result?t.datagrid.data=e.data:t.$Message.error(e.msg)})},handleSubmit:function(){this.getData()},exportExcel:function(){window.location.href="../admin/pmp/exportShipment?cdSendDate="+this.formQuery.cdSendDate+"&cdTransCode="+this.formQuery.cdTransCode},exportPoplanExcel:function(){window.location.href="../admin/pmp/exportPoplan?cdTransCode="+this.formQuery.cdTransCode},changePage:function(t){this.datagrid.queryParams.page=t,this.getData()},chageSize:function(t){this.datagrid.queryParams.rows=t,this.getData()},changeSelect:function(){this.getData()},expandChange:function(t,e){},getTransCode:function(){var t=this;this.api.pmp.selectTransCode().then(function(e){if(e.result){var a=[{bsTransportCode:"",desc:"All"}];e.data.forEach(function(t){a.push({bsTransportCode:t.bsTransportCode,desc:t.bsTransportCode})}),t.bsTransportCodelist=a}})}}}},1757:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{row:Object},created:function(){this.formQuery.cdSendDate=this.row.cdSendDate,this.formQuery.cdTransCode=this.row.cdTransCode,this.getData()},data:function(){return{formQuery:{cdSendDate:"",cdTransCode:""},datagrid:{queryParams:{page:1,rows:15},pagination:[15,50,100],data:{rows:[],total:0,rows1:[]},columns:[{title:"柜子型号",key:"cdCabinetModel"},{title:"柜子标识",key:"cdCabinetMark"},{title:"客户编号",key:"cdCustomerNo"},{title:"物料编号",key:"cdItemNo"},{title:"客户料号",key:"cdCustomerItemNum"},{title:"物料的托数",key:"cdBoxNum"},{title:"包装",key:"cdBoxSize"},{title:"物料的数量",key:"cdSendNum"}]}}},methods:{getData:function(){var t=this;this.api.pmp.getShipmentPlanDetail(this.formQuery).then(function(e){e.result&&(t.datagrid.data=e.data)})}}}},2057:function(t,e,a){"use strict";function r(t){c||a(2058)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1757),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);var s=a(2060),d=a.n(s),c=!1,u=a(1),l=r,p=u(o.a,d.a,!1,l,"data-v-2aee16cf",null);p.options.__file="src/view/member/pmp/mrp/shipmentdetail.vue",e.default=p.exports},2058:function(t,e,a){var r=a(2059);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(29)("40b332d2",r,!1)},2059:function(t,e,a){e=t.exports=a(28)(!1),e.push([t.i,"\n.expand-row[data-v-2aee16cf]{\n    margin-bottom: 16px;\n}\n",""])},2060:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{staticClass:"expand-row"}),t._v(" "),a("Row",[a("i-col",{attrs:{span:"24"}},[a("Table",{staticStyle:{height:"auto"},attrs:{data:t.datagrid.data.rows,border:"",columns:t.datagrid.columns,stripe:""}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}})],1)],1)],1)},n=[];r._withStripped=!0;var o={render:r,staticRenderFns:n};e.default=o},2061:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("Row",[a("i-col",[a("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:t.formQuery,inline:""}},[a("Form-item",[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入发货日期"},model:{value:t.formQuery.cdSendDate,callback:function(e){t.$set(t.formQuery,"cdSendDate",e)},expression:"formQuery.cdSendDate"}})],1),t._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("p",{staticStyle:{width:"50px",display:"inline-block","text-align":"right","margin-right":"20px"}},[t._v("运输路线")]),t._v(" "),a("Select",{staticStyle:{width:"200px"},attrs:{filterable:""},on:{"on-change":t.changeSelect},model:{value:t.formQuery.cdTransCode,callback:function(e){t.$set(t.formQuery,"cdTransCode",e)},expression:"formQuery.cdTransCode"}},t._l(t.bsTransportCodelist,function(e){return a("Option",{key:e.bsTransportCode,attrs:{value:e.bsTransportCode}},[t._v(t._s(e.desc))])}))],1),t._v(" "),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit()}}},[t._v("查 询")])],1),t._v(" "),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.exportExcel()}}},[t._v("导出装柜计划")])],1),t._v(" "),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.exportPoplanExcel()}}},[t._v("导出计划后的需求")])],1)],1)],1)],1)],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"24"}},[a("Table",{staticStyle:{height:"auto"},attrs:{data:t.datagrid.data.rows,columns:t.datagrid.columns,stripe:""},on:{"on-expand":t.expandChange}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.datagrid.data.total,placement:"top",current:1,"page-size":t.datagrid.queryParams.rows,"page-size-opts":t.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.chageSize}})],1)])],1)],1)],1)},n=[];r._withStripped=!0;var o={render:r,staticRenderFns:n};e.default=o}});
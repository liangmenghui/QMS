webpackJsonp([43],{1229:function(e,t,a){"use strict";function n(e){u||a(2205)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(1830),o=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var l=a(2207),i=a.n(l),u=!1,c=a(1),d=n,p=c(o.a,i.a,!1,d,null,null);p.options.__file="src/views/qms/view/feedback/FeedbackList.vue",t.default=p.exports},1830:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(11),o=n(s),r=a(3),l=n(r);t.default={data:function(){var e;return e={formQuery:{},showRooterView:!1,tableData:[],expands:[]},(0,l.default)(e,"showRooterView",!1),(0,l.default)(e,"filters",{}),(0,l.default)(e,"queryParams",{page:1,rows:12,pkParent:-1}),(0,l.default)(e,"pageSizesList",[10,20,30,40,50,100]),(0,l.default)(e,"totalCount",0),(0,l.default)(e,"options",[{value:"1",label:this.$t("feedback.statusDesc[1]")},{value:"2",label:this.$t("feedback.statusDesc[2]")},{value:"3",label:this.$t("feedback.statusDesc[3]")}]),e},created:function(){this.showRooterView=this.$route.matched.length>2,this.getData()},beforeUpdate:function(){this.showRooterView=this.$route.matched.length>2},watch:{$route:function(e,t){2==e.matched.length&&this.getData(),this.showRooterView=e.matched.length>2}},methods:{getData:function(){var e=this,t=(0,o.default)(this.formQuery,this.queryParams,this.$route.query);this.api.feedback.getlist(t).then(function(t){e.tableData=t.data.rows,e.totalCount=t.data.total})},rowClick:function(e,t,a){Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},this.expands.indexOf(e.id)<0?this.expands.push(e.id):this.expands.remove(e.id)},to:function(e,t){this.$router.push({path:e,query:{feedbackId:t}})},changePage:function(e){this.queryParams.page=e,this.getData()},cleargetData:function(){this.formQuery.keyWord="",this.formQuery.bsStatus=""}}}},2205:function(e,t,a){var n=a(2206);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(21)("1b300a33",n,!1)},2206:function(e,t,a){t=e.exports=a(20)(!1),t.push([e.i,"\n.ApprovedFlowManagement .ivu-table {\n  font-size: 14px;\n}\n.ApprovedTermsManagement .ivu-table-cell {\n  font-size: 14px;\n}\n.SampleManagement .ivu-table {\n  font-size: 14px;\n}\n.SampleRegularManagement .ivu-table {\n  font-size: 14px;\n}\n.el-input-group__append,\n.el-input-group__prepend {\n  background-color: #409eff;\n  color: #fff;\n}\n.red {\n  color: #fd5822;\n}\n.blue {\n  color: #409EFF;\n}\n.green {\n  color: #67C23A;\n}\n.orange {\n  color: #fd5822;\n}\n.gray {\n  color: #333;\n}\n.feedback-list {\n  width: 100%;\n  padding-top: 10px;\n}\n.block {\n  text-align: right;\n  margin-top: 10px;\n}\n.mytable.el-table th {\n  background: #f0f0f0 !important;\n}\n.main .single-page-con {\n  background: #fff;\n}\n",""])},2207:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showRooterView?e.showRooterView?a("div",[a("router-view")],1):e._e():a("div",{staticClass:"feedbacklist"},[a("div",[a("Select",{staticStyle:{width:"200px",display:"inline-block","margin-top":"-4px"},attrs:{size:"large",filterable:"",placeholder:"按客诉状态搜索"},model:{value:e.formQuery.bsStatus,callback:function(t){e.$set(e.formQuery,"bsStatus",t)},expression:"formQuery.bsStatus"}},e._l(e.options,function(e){return a("Option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-input",{staticStyle:{width:"200px",display:"inline-block"},attrs:{size:"medium",placeholder:e.$t("Button.Keyword-search")},model:{value:e.formQuery.keyWord,callback:function(t){e.$set(e.formQuery,"keyWord",t)},expression:"formQuery.keyWord"}}),e._v(" "),a("el-button",{staticStyle:{padding:"10px 10px"},attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.getData},slot:"append"},[e._v(e._s(e.$t("Button.Inquire")))]),e._v(" "),a("el-button",{staticStyle:{padding:"10px 10px"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.cleargetData}},[e._v(e._s(e.$t("Button.Reset")))])],1),e._v(" "),a("el-table",{staticClass:"feedback-list mytable",attrs:{data:e.tableData,"row-key":"id","expand-row-keys":e.expands},on:{"row-click":e.rowClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.to("feedback/details",t.row.id)}}},[e._v(e._s(e.$t("feedback.details")))]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.to("feedback/handle",t.row.id)}}},[e._v(e._s(e.$t("feedback.dispose")))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("feedback.number"),width:"120",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("feedback.state"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{red:1==t.row.bsStatus,blue:2==t.row.bsStatus,green:3==t.row.bsStatus}},[e._v(e._s(e.$t("feedback.statusDesc["+t.row.bsStatus+"]")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("feedback.type"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.$t("feedback.feedbacktype["+t.row.bsType+"]")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("feedback.product"),prop:"bsPrName"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("feedback.supplier"),prop:"bsSuppCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("feedback.time"),prop:"bsCreatedTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{staticClass:"pull-right clearfix",attrs:{current:1,"current-page":e.queryParams.page,"page-sizes":e.pageSizesList,"page-size":e.queryParams.rows,layout:"total, sizes, prev, pager, next, jumper","page-size-opts":e.pageSizesList,total:e.totalCount},on:{"current-change":e.changePage,"size-change":e.SizeChange,"update:currentPage":function(t){e.$set(e.queryParams,"page",t)}}})],1)],1)},s=[];n._withStripped=!0;var o={render:n,staticRenderFns:s};t.default=o}});
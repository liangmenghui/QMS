webpackJsonp([54],{1235:function(t,e,s){"use strict";function a(t){l||s(2231)}Object.defineProperty(e,"__esModule",{value:!0});var i=s(1970),o=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);var d=s(2233),r=s.n(d),l=!1,c=s(1),u=a,b=c(o.a,r.a,!1,u,null,null);b.options.__file="src/views/qms/view/feedback/ReturnGoods.vue",e.default=b.exports},1970:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{refunddata:[],productNames:[],form:{bsStatus:1,bsType:2},refundIdStr:[],suppliers:[],products:[],refundModal:!1,approverModal:!1}},created:function(){this.getData(),this.getRefundData()},methods:{getData:function(t){var e=this;this.api.supplierinfo.getlist({page:1,rows:100,keyWord:t}).then(function(t){e.suppliers=t.data.rows.map(function(t){return t.value=t.bsSuppChieseName,t})})},getRefundData:function(){var t=this;this.api.feedbackRefund.getlist().then(function(e){t.refunddata=e.data.rows})},getProductData:function(t){var e=this;this.api.productinfo.getlist({suppCode:t}).then(function(t){e.products=t.data.rows.map(function(t){return t.value=t.bsPrName,t})})},queryProduct:function(t,e){var s=this.products;e(t?s.filter(this.nameFilter(t)):s)},querySupplier:function(t,e){var s=this;this.api.supplierinfo.getlist({page:1,rows:100,keyWord:t}).then(function(t){s.suppliers=t.data.rows.map(function(t){return t.value=t.bsSuppChieseName,t}),e(s.suppliers)})},supplierFilter:function(t){return function(e){return 0===e.bsSuppChieseName.toLowerCase().indexOf(t.toLowerCase())}},productFileter:function(t){return function(e){return 0===e.bsPrName.toLowerCase().indexOf(t.toLowerCase())}},handleSelectSupplier:function(t){this.form.bsSuppId=t.id,this.form.bsSuppCompanyCode=t.bsSuppCode,this.getProductData(t.bsSuppCode)},handleSelectProduct:function(t){this.form.bsPrId=t.id,this.form.bsPrName=t.bsPrName,this.form.bsPrCode=t.bsPrCode},showrefundModal:function(){this.refundModal=!0},showApproverModal:function(){this.approverModal=!0},addrefundok:function(){var t=this;this.api.feedbackRefund.add(this.form).then(function(e){t.getRefundData()})},deleterefund:function(t){var e=this;this.api.feedbackRefund.delete({id:t.row.id}).then(function(t){e.getRefundData()})},ok:function(){},cancel:function(){},submit:function(){for(var t=0;t<this.refunddata.length;t++){var e=this.refunddata[t];this.refundIdStr.push(e.id)}this.refundIdStr.toString()}}}},2231:function(t,e,s){var a=s(2232);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(21)("c042154a",a,!1)},2232:function(t,e,s){e=t.exports=s(20)(!1),e.push([t.i,'\n.returngoods #basic-body1:after{\n    content:".";\n    visibility:hidden;\n    display:block; \n    clear:both;\n}\n.returngoods #basic-body1 .basic-body-div{\n    float: left;height: 50px;\n}\n.returngoods #basic-body1 .basic-body-text{\n    float: left;margin-top: 10px;width: 150px;margin-left:20px;font-size: 14px;text-align: right;\n}\n.returngoods #basic-body1 .basic-body-input{\n    float: left;width: 300px;\n}\n.returngoods #basic-body2:after{\n    content:".";\n    visibility:hidden;\n    display:block; \n    clear:both;\n}\n.returngoods #basic-body3:after{\n    content:".";\n    visibility:hidden;\n    display:block; \n    clear:both;\n}\n.returngoods .basic-body-div{\n    float: left;height: 50px;\n}\n.returngoods .basic-body-text{\n    float: left;margin-top: 10px;width: 100px;font-size: 14px;text-align: right;\n}\n.returngoods .basic-body-input{\n    float: left;width: 230px;\n}\n.refund-body-div{\n    height: 50px;\n}\n.refund-body-text{\n    float: left;margin-top: 10px;width: 100px;font-size: 14px;text-align: right;\n}\n.refund-body-input{\n    float: left;width: 300px;\n}\n.returngoods #refund-body .ivu-checkbox-wrapper{\n    width: 160px;margin-top: 10px;margin-left: 10px;font-size: 14px;\n}\n#refund-why:after{\n    content:".";\n    visibility:hidden;\n    display:block; \n    clear:both;\n}\n',""])},2233:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"returngoods"},[s("Row",{style:{marginBottom:"20px"}},[s("center",[s("h4",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("feedback.GenerateRefundForm")))])])],1),t._v(" "),s("Row",{style:{marginBottom:"20px"}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{color:"#ff9900","font-size":"18px"},attrs:{type:"social-buffer"}}),t._v("\n                 "+t._s(t.$t("supplier.BasicInfo"))+"\n            ")],1),t._v(" "),s("div",[s("div",{attrs:{id:"basic-body1"}},[s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.supplier"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":t.querySupplier},on:{select:t.handleSelectSupplier},model:{value:t.form.bsSuppCompanyName,callback:function(e){t.$set(t.form,"bsSuppCompanyName",e)},expression:"form.bsSuppCompanyName"}})],1)]),t._v(" "),s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.DeductionsOrder"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-input")],1)]),t._v(" "),s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.DateOfDeductions"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("DatePicker",{staticStyle:{width:"300px"},attrs:{size:"large",type:"date",placeholder:"选择日期"}})],1)]),t._v(" "),s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.DateOfQualityAccident"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("DatePicker",{staticStyle:{width:"300px"},attrs:{size:"large",type:"date",placeholder:"选择日期"}})],1)])]),t._v(" "),s("div",{attrs:{id:"basic-body2"}},[s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("feedback.notifier"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-input")],1)]),t._v(" "),s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Email"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-input")],1)]),t._v(" "),s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Mobile"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-input")],1)])]),t._v(" "),s("div",{attrs:{id:"basic-body3"}},[s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("approved.Customer"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-input")],1)]),t._v(" "),s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Email"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-input")],1)]),t._v(" "),s("div",{staticClass:"basic-body-div"},[s("div",{staticClass:"basic-body-text"},[t._v(t._s(t.$t("supplier.Mobile"))+"：")]),t._v(" "),s("div",{staticClass:"basic-body-input"},[s("el-input")],1)])])])])],1),t._v(" "),s("Row",{style:{marginBottom:"20px"}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{color:"#ff9900","font-size":"18px"},attrs:{type:"cash"}}),t._v("\n                 "+t._s(t.$t("feedback.TheRefundInformation"))+"\n            ")],1),t._v(" "),s("div",{attrs:{id:"refund-body"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.refunddata}},[s("el-table-column",{attrs:{prop:"id",label:t.$t("feedback.SequenceNumber"),align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"bsReportNo",label:t.$t("feedback.ReportNumber")}}),t._v(" "),s("el-table-column",{attrs:{prop:"bsPrId",label:t.$t("product.code")}}),t._v(" "),s("el-table-column",{attrs:{prop:"bsNum",label:t.$t("feedback.amount")}}),t._v(" "),s("el-table-column",{attrs:{prop:"bsPrice",label:t.$t("feedback.unitprice")}}),t._v(" "),s("el-table-column",{attrs:{prop:"bsSum",label:t.$t("feedback.deduction")}}),t._v(" "),s("el-table-column",{attrs:{prop:"bsReason",label:t.$t("feedback.DeductionsFor")}}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("Button.operating")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.deleterefund(e)}}},[t._v("\n                            "+t._s(t.$t("Button.Delete"))+"\n                            ")])]}}])})],1),t._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[s("center",[s("el-button",{staticStyle:{padding:"5px 10px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.showrefundModal()}}},[t._v("\n                            "+t._s(t.$t("feedback.addarefund"))+"\n                         ")])],1)],1),t._v(" "),s("Modal",{attrs:{title:t.$t("feedback.TheRefundInformation")},on:{"on-ok":t.addrefundok,"on-cancel":t.cancel},model:{value:t.refundModal,callback:function(e){t.refundModal=e},expression:"refundModal"}},[s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("left-menu.Product"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":t.queryProduct},on:{select:t.handleSelectProduct},model:{value:t.form.bsPrName,callback:function(e){t.$set(t.form,"bsPrName",e)},expression:"form.bsPrName"}})],1)]),t._v(" "),s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("product.code"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-input",{model:{value:t.form.bsPrCode,callback:function(e){t.$set(t.form,"bsPrCode",e)},expression:"form.bsPrCode"}})],1)]),t._v(" "),s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.amount"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-input",{model:{value:t.form.bsNum,callback:function(e){t.$set(t.form,"bsNum",e)},expression:"form.bsNum"}})],1)]),t._v(" "),s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.unitprice"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-input",{model:{value:t.form.bsPrice,callback:function(e){t.$set(t.form,"bsPrice",e)},expression:"form.bsPrice"}})],1)]),t._v(" "),s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.deduction"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-input",{model:{value:t.form.bsSum,callback:function(e){t.$set(t.form,"bsSum",e)},expression:"form.bsSum"}})],1)]),t._v(" "),s("div",{attrs:{id:"refund-why"}},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.DeductionsFor"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-input",{attrs:{type:"textarea"},model:{value:t.form.bsReason,callback:function(e){t.$set(t.form,"bsReason",e)},expression:"form.bsReason"}})],1)])]),t._v(" "),s("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[s("Alert",{attrs:{"show-icon":""}},[t._v(t._s(t.$t("feedback.DearSuppliersTheFollowingSituationsWillResultInAQualityDeduction"))+"：\n                    ")]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.GoodsAreRejectedOrScrapped")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.EmergencyReplacementOfGoods")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.CustomerSiteSortingGoods")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.SeparateGoodsFromForeignWarehouses")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.labelerror")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.CustomersGiveInToDifferences")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.airfreight")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.rework")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.CustomerFines")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.GoodsReturnedToSupplier")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.CargoInclusion")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.TheCustomerIsOutOfStock")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.TheQuantityOfGoodsInTheBoxDoesNotTally")))]),t._v(" "),s("Checkbox",[t._v(t._s(t.$t("feedback.OtherPossibleCosts")))])],1)],1)])],1),t._v(" "),s("Row",{style:{marginBottom:"20px"}},[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{staticStyle:{color:"#ff9900","font-size":"18px"},attrs:{type:"compose"}}),t._v("\n                 "+t._s(t.$t("feedback.ApprovalInformation"))+"\n            ")],1),t._v(" "),s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.refunddata}},[s("el-table-column",{attrs:{prop:"",label:t.$t("feedback.department"),align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"",label:t.$t("feedback.name")}}),t._v(" "),s("el-table-column",{attrs:{prop:"",label:t.$t("supplier.Position")}}),t._v(" "),s("el-table-column",{attrs:{prop:"",label:t.$t("feedback.date")}}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("Button.operating")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"}},[t._v(t._s(t.$t("Button.confirm")))]),t._v(" "),s("el-button",{attrs:{size:"mini"}},[t._v(t._s(t.$t("Button.Delete")))])]}}])})],1),t._v(" "),s("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[s("center",[s("el-button",{staticStyle:{padding:"5px 10px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.showApproverModal()}}},[t._v("\n                        "+t._s(t.$t("feedback.addapprover"))+"\n                        ")])],1)],1),t._v(" "),s("Modal",{attrs:{title:t.$t("feedback.ApproverInformation")},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.approverModal,callback:function(e){t.approverModal=e},expression:"approverModal"}},[s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.approver"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("Select",{staticStyle:{width:"300px",display:"inline-block"},attrs:{size:"large",placeholder:"选择"},model:{value:t.productNames,callback:function(e){t.productNames=e},expression:"productNames"}},t._l(t.productNames,function(t){return s("Option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("feedback.name"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-input")],1)]),t._v(" "),s("div",{staticClass:"refund-body-div"},[s("div",{staticClass:"refund-body-text"},[t._v(t._s(t.$t("supplier.Position"))+"：")]),t._v(" "),s("div",{staticClass:"refund-body-input"},[s("el-input")],1)])]),t._v(" "),s("Alert",{attrs:{"show-icon":""}},[t._v("\n                "+t._s(t.$t("feedback.TheManagerOfTheMinistryOfCommerceIsRequiredToConfirmTheQualityDeductionOver10000RMB"))+"\n                ")])],1)])],1),t._v(" "),s("div",{staticStyle:{"margin-bottom":"100px","margin-top":"50px"}},[s("center",[s("el-button",{staticStyle:{width:"10%",padding:"7px 0"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n            "+t._s(t.$t("feedback.submit"))+"\n            ")])],1)],1)],1)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.default=o}});
webpackJsonp([75],{1172:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1887),s=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,function(){return r[e]})}(o);var i=a(2058),l=a.n(i),n=a(1),m=n(s.a,l.a,!1,null,null,null);m.options.__file="src/view/member/lab/sample/sampletest.vue",t.default=m.exports},1887:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(72),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=a(98);t.default={created:function(){},computed:(0,s.default)({},(0,o.mapState)({menuData:function(e){return e.menuData}})),data:function(){var e=this;return{showM:!1,form:{username:"",password:""},show:{0:!0},tabs:1,dialog:{ruleForm:{},formItem:{bsCode:"",bsName:"",bsPartNo:""}},formQuery:{ATestx:[],AEqname:[],ATime:[],eqName:"",testx:"",bsSampleStatrtTime:"",bsCostTime:"",bsReportTime:"",pkPerson:"",items:[{}]},num:2,formQu:{id:""},Query:{eqName:"",testTime:"",testx:""},dict:{bsStatus:[{value:0,name:"待测试"},{value:1,name:"测试中"},{value:2,name:"已完成"},{value:3,name:"已中止"}]},datagrid:{queryParams:{page:1,rows:25,pkParent:-1},pagination:[25,50,100],data:{rows:[],total:0},data1:{rows:[],total:0},columns1:[{title:"测试项",key:"testx"},{title:"测试设备",key:"bsName"},{title:"测试时间",key:"testTime"},{title:"Nominal Spec基准值",key:"bsBaseline"},{title:"USL+上限值",key:"bsBaselineUp"},{title:"USL+下限值",key:"bsBaselineDown"},{title:"测试数据",key:"bsBaseData"},{title:"Mean",key:"bsMean"},{title:"Range",key:"bsRange"},{title:"Result",key:"bsResult"},{title:"备注",key:"bsSampleComment"}],columns:[{title:"样品编码",key:"bsCode"},{title:"样品名称",key:"bsName"},{title:"登记时间",key:"bsSampleTime"},{title:"要求报告时间",key:"bsReportTime"},{title:"样品数量",key:"bsQty"},{title:"状态",key:"bsStatus",render:function(t,a){return t("span",e.dict.bsStatus[a.row.bsStatus].name)}},{title:"测试内容",key:"bsComment"},{title:"操作",key:"action",render:function(t,a){var r=[];return r.push(t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.download(a)}}},"下载图纸")),t("div",r)}}]}}},watch:{$route:function(){this.init()}},mounted:function(){this.init()},methods:{getData:function(){var e=this;this.dialog.formItem.bsCode=this.dialog.formItem.bsPartNo,this.api.sampleTest.getData(this.dialog.formItem).then(function(t){t.result?(e.formQuery.bsCostTime=t.data.rows[0].bsCostTime,e.formQuery.bsSampleStatrtTime=t.data.rows[0].bsSampleStatrtTime,e.formQuery.bsCompTime=t.data.rows[0].bsCompTime,e.formQuery.pkPerson=t.data.rows[0].pkPerson):e.$Message.error(t.msg)})},init:function(){var e=this;this.formQu.id=this.$route.query.row.id,this.api.sample.selectById(this.formQu).then(function(t){t.result?(e.dialog.formItem.bsPartNo=t.data.rows[0].bsCode,e.dialog.formItem.bsName=t.data.rows[0].bsName,e.datagrid.data=t.data,e.api.sampletesttime.getlist(e.dialog.formItem).then(function(t){t.result?(e.datagrid.data1=t.data,e.getData()):e.$Message.error(t.msg)})):e.$Message.error(t.msg)})},download:function(e){window.location.href="/admin/lab/sample/download?id="+e.row.id}}}},2058:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{attrs:{span:"24"}},[a("Table",{staticStyle:{height:"100px"},attrs:{data:e.datagrid.data.rows,columns:e.datagrid.columns,stripe:""}})],1)],1),e._v(" "),a("Row",[a("i-col",{attrs:{span:"24"}},[a("Table",{staticStyle:{height:"auto"},attrs:{data:e.datagrid.data1.content,columns:e.datagrid.columns1,stripe:""}})],1)],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("Row",[a("Form",{ref:e.dialog.ruleForm,attrs:{model:e.Query,rules:e.dialog.ruleForm,"label-width":80}},[a("Form-item",{attrs:{label:"总用时",prop:"bsCostTime"}},[a("Input",{attrs:{readonly:"readonly",type:"text",placeholder:"请输入..."},model:{value:e.formQuery.bsCostTime,callback:function(t){e.$set(e.formQuery,"bsCostTime",t)},expression:"formQuery.bsCostTime"}})],1),e._v(" "),a("Form-item",{attrs:{label:"实验计划开始时间",prop:"bsSampleStatrtTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{readonly:"readonly",type:"datetime",placeholder:"请选择"},model:{value:e.formQuery.bsSampleStatrtTime,callback:function(t){e.$set(e.formQuery,"bsSampleStatrtTime",t)},expression:"formQuery.bsSampleStatrtTime"}})],1),e._v(" "),a("Form-item",{attrs:{label:"预计完成时间",prop:"bsCompTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{readonly:"readonly",type:"datetime",placeholder:"请选择"},model:{value:e.formQuery.bsCompTime,callback:function(t){e.$set(e.formQuery,"bsCompTime",t)},expression:"formQuery.bsCompTime"}})],1),e._v(" "),a("Form-item",{attrs:{label:"测试人员",prop:"pkPerson"}},[a("Input",{attrs:{readonly:"readonly",type:"text",placeholder:"请输入测试人员..."},model:{value:e.formQuery.pkPerson,callback:function(t){e.$set(e.formQuery,"pkPerson",t)},expression:"formQuery.pkPerson"}})],1)],1)],1)],1)},s=[];r._withStripped=!0;var o={render:r,staticRenderFns:s};t.default=o}});
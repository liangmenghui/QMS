webpackJsonp([70],{1195:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(1911),i=o.n(a);for(var r in a)"default"!==r&&function(e){o.d(t,e,function(){return a[e]})}(r);var l=o(2088),s=o.n(l),m=o(1),d=m(i.a,s.a,!1,null,null,null);d.options.__file="src/view/member/pmp/mrp/pallet.vue",t.default=d.exports},1911:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(22),r=a(i),l=o(11),s=a(l),m=o(72),d=a(m),n=o(98);t.default={created:function(){this.getData()},computed:(0,d.default)({},(0,n.mapState)({menuData:function(e){return e.menuData}})),data:function(){var e=this;return{itemNoDisabled:!1,customerCodeDisabled:!1,customerItemNoDisabled:!1,formQuery:{itemNo:"",customerItemNo:"",customerCode:""},dialog:{ruleForm:{itemNo:[{required:!0,message:"请填写物料编码",trigger:"blur"}],customerCode:[{required:!0,message:"请填写客户编码",trigger:"blur"}],customerItemNo:[{required:!0,message:"请填写客户料号",trigger:"blur"}]},modal_dialog:!1,formItem:{bsBoxSize:0,bsLength:0,bsWidth:0,bsHeight:0}},datagrid:{queryParams:{page:1,rows:14},pagination:[14,50,100],data:{rows:[],total:0,rows1:[]},columns:[{title:"物料编号",key:"itemNo"},{title:"客户编码",key:"customerCode"},{title:"客户料号",key:"customerItemNo"},{title:"数量(/托)",key:"bsBoxSize"},{title:"长(cm)",key:"bsLength"},{title:"宽(cm)",key:"bsWidth"},{title:"高(cm)",key:"bsHeight"},{title:"操作",key:"action",render:function(t,o){var a=[];return a.push(t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showEditPalletDialog(o)}}},"编辑")),a.push(t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.deletePallet(o)}}},"删除")),t("div",a)}}]}}},methods:{getData:function(){var e=this;(0,s.default)(this.formQuery,this.datagrid.queryParams),this.api.pmp.getPallet(this.formQuery).then(function(t){t.result?e.datagrid.data=t.data:e.$Message.error(t.msg)})},handleSubmit:function(){this.getData()},changePage:function(e){this.datagrid.queryParams.page=e,this.getData()},chageSize:function(e){this.datagrid.queryParams.rows=e,this.getData()},showAddPalletDialog:function(e){this.dialog.modal_dialog=!0,this.itemNoDisabled=!1,this.customerCodeDisabled=!1,this.customerItemNoDisabled=!1,this.dialog.formItem.id=null,this.$refs["dialog.formItem"].resetFields()},showEditPalletDialog:function(e){this.dialog.modal_dialog=!0,this.itemNoDisabled=!0,this.customerCodeDisabled=!0,this.customerItemNoDisabled=!0;var t=e.row;this.dialog.formItem={id:t.id,itemNo:t.itemNo,customerCode:t.customerCode,customerItemNo:t.customerItemNo,bsBoxSize:t.bsBoxSize,bsLength:t.bsLength,bsWidth:t.bsWidth,bsHeight:t.bsHeight}},editPalletCancel:function(){this.dialog.modal_dialog=!1,this.itemNoDisabled=!1,this.customerCodeDisabled=!1,this.customerItemNoDisabled=!1,this.$refs["dialog.formItem"].resetFields()},deletePallet:function(e){var t=this;console.log(e),this.$Modal.confirm({title:"提示信息",content:"<p>是否确定删除？</p>",loading:!0,onOk:function(){t.api.pmp.deletePallet({id:e.row.id}).then(function(e){console.log(e),e.result?(t.datagrid.data=e.data,t.$Message.info("删除成功"),t.$Modal.remove()):t.$Message.error(e.msg)})}})},saveEditPallet:function(e){var t=this;this.$refs["dialog.formItem"].validate(function(o){o?void 0!=(0,r.default)(t.dialog.formItem.id)&&"number"==typeof t.dialog.formItem.id?t.api.pmp.editPallet(e).then(function(e){e.result?(t.dialog.modal_dialog=!1,t.$refs["dialog.formItem"].resetFields(),t.datagrid.data=t.getData()):t.$Message.info(e.msg)}):t.api.pmp.addPallet(e).then(function(e){e.result?(t.dialog.modal_dialog=!1,t.$refs["dialog.formItem"].resetFields(),t.datagrid.data=t.getData()):t.$Message.info(e.msg)}):t.$Message.error("表单验证失败!")})}}}},2088:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("Row",[o("i-col",[o("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:e.formQuery,inline:""}},[o("Form-item",[o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入物料号"},model:{value:e.formQuery.itemNo,callback:function(t){e.$set(e.formQuery,"itemNo",t)},expression:"formQuery.itemNo"}})],1),e._v(" "),o("Form-item",[o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入客户编号"},model:{value:e.formQuery.customerCode,callback:function(t){e.$set(e.formQuery,"customerCode",t)},expression:"formQuery.customerCode"}})],1),e._v(" "),o("Form-item",[o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入客户料号"},model:{value:e.formQuery.customerItemNo,callback:function(t){e.$set(e.formQuery,"customerItemNo",t)},expression:"formQuery.customerItemNo"}})],1),e._v(" "),o("Form-item",[o("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit()}}},[e._v("查 询")])],1),e._v(" "),o("Form-item",[o("Button",{attrs:{type:"primary"},on:{click:function(t){e.showAddPalletDialog()}}},[e._v("新 增")])],1)],1)],1)],1)],1),e._v(" "),o("Row",[o("i-col",{attrs:{span:"24"}},[o("Table",{staticStyle:{height:"auto"},attrs:{data:e.datagrid.data.rows,columns:e.datagrid.columns,stripe:""}}),e._v(" "),o("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[o("div",{staticStyle:{float:"right"}},[o("Page",{attrs:{total:e.datagrid.data.total,placement:"top",current:1,"page-size":e.datagrid.queryParams.rows,"page-size-opts":e.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.chageSize}})],1)])],1)],1),e._v(" "),o("Modal",{attrs:{"mask-closable":!1,closable:!1,title:""},model:{value:e.dialog.modal_dialog,callback:function(t){e.$set(e.dialog,"modal_dialog",t)},expression:"dialog.modal_dialog"}},[o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.editPalletCancel()}}},[e._v("取消")]),e._v(" "),o("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.saveEditPallet(e.dialog.formItem)}}},[e._v("确定")])],1),e._v(" "),o("Form",{ref:"dialog.formItem",attrs:{model:e.dialog.formItem,rules:e.dialog.ruleForm,"label-width":100}},[o("Input",{attrs:{type:"hidden"},model:{value:e.dialog.formItem.id,callback:function(t){e.$set(e.dialog.formItem,"id",t)},expression:"dialog.formItem.id"}}),e._v(" "),o("Form-item",{attrs:{label:"物料编码",prop:"itemNo"}},[o("Input",{attrs:{disabled:e.itemNoDisabled,placeholder:"请输入"},model:{value:e.dialog.formItem.itemNo,callback:function(t){e.$set(e.dialog.formItem,"itemNo",t)},expression:"dialog.formItem.itemNo"}})],1),e._v(" "),o("Form-item",{attrs:{label:"客户编码",prop:"customerCode"}},[o("Input",{attrs:{disabled:e.customerCodeDisabled,placeholder:"请输入"},model:{value:e.dialog.formItem.customerCode,callback:function(t){e.$set(e.dialog.formItem,"customerCode",t)},expression:"dialog.formItem.customerCode"}})],1),e._v(" "),o("Form-item",{attrs:{label:"客户料号",prop:"customerItemNo"}},[o("Input",{attrs:{disabled:e.customerItemNoDisabled,placeholder:"请输入"},model:{value:e.dialog.formItem.customerItemNo,callback:function(t){e.$set(e.dialog.formItem,"customerItemNo",t)},expression:"dialog.formItem.customerItemNo"}})],1),e._v(" "),o("Form-item",{attrs:{label:"数量(/托)",prop:"bsBoxSize"}},[o("Input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsBoxSize,callback:function(t){e.$set(e.dialog.formItem,"bsBoxSize",t)},expression:"dialog.formItem.bsBoxSize"}})],1),e._v(" "),o("Form-item",{attrs:{label:"长(cm)",prop:"bsLength"}},[o("Input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsLength,callback:function(t){e.$set(e.dialog.formItem,"bsLength",t)},expression:"dialog.formItem.bsLength"}})],1),e._v(" "),o("Form-item",{attrs:{label:"宽(cm)",prop:"bsWidth"}},[o("Input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsWidth,callback:function(t){e.$set(e.dialog.formItem,"bsWidth",t)},expression:"dialog.formItem.bsWidth"}})],1),e._v(" "),o("Form-item",{attrs:{label:"高(cm)",prop:"bsHeight"}},[o("Input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsHeight,callback:function(t){e.$set(e.dialog.formItem,"bsHeight",t)},expression:"dialog.formItem.bsHeight"}})],1)],1)],1)],1)},i=[];a._withStripped=!0;var r={render:a,staticRenderFns:i};t.default=r}});
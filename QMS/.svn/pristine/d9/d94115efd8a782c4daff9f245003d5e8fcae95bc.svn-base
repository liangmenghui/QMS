webpackJsonp([75],{1161:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(1741),l=a.n(o);for(var r in o)"default"!==r&&function(e){a.d(t,e,function(){return o[e]})}(r);var i=a(2037),s=a.n(i),n=a(1),m=n(l.a,s.a,!1,null,null,null);m.options.__file="src/view/member/ext/serialno/index.vue",t.default=m.exports},1741:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(30),r=o(l),i=a(19),s=o(i),n=a(16),m=o(n),d=a(98),u=o(d),c=a(97);t.default={data:function(){var e=this;return{formQuery:{bsCode:"",bsName:""},dialog:{modal_dialog:!1,formItem:{},ruleForm:{bsCode:[{required:!0,message:"请填写编码",trigger:"blur"}],bsName:[{required:!0,message:"请填写名称",trigger:"blur"}]}},datagrid:{queryParams:{page:1,rows:25,pkParent:-1},pagination:[25,50,100],data:{rows:[],total:0},columns:[{title:"编码",key:"bsCode"},{title:"名称",key:"bsName"},{title:"前缀",key:"bsPrefix"},{title:"后缀",key:"bsSurffix"},{title:"初始值",key:"bsInitVal"},{title:"最大值",key:"bsMaxVal"},{title:"长度",key:"bsLength"},{title:"启用状态",key:"bsEnableState"},{title:"当前值",key:"bsValue"},{title:"创建时间",key:"bsCreatedTime"},{title:"更新时间",key:"bsModifiedTime"},{title:"操作",key:"action",render:function(t,a){var o=[];return e.menuData.perms.EDIT&&o.push(t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showEditDialog(a)}}},"编辑")),e.menuData.perms.DELETE&&o.push(t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.delete(a)}}},"删除")),t("div",o)}}]}}},created:function(){},computed:(0,u.default)({},(0,c.mapState)({menuData:function(e){return e.menuData}})),methods:{handleSubmit:function(e){this.getData()},getData:function(){var e=this;(0,m.default)(this.formQuery,this.datagrid.queryParams),console.log("after===>"),console.log(this.formQuery),this.api.admin.serialno.getlist(this.formQuery).then(function(t){console.log("get list===>"),console.log(t.data),t.result?e.datagrid.data=t.data:e.$Message.error(t.msg)})},reloadData:function(){this.datagrid.data=this.getData()},changePage:function(e){this.datagrid.queryParams.page=e,this.datagrid.data=this.getData()},edit:function(e){var t=this;console.log(e),this.api.admin.serialno.edit(e.row).then(function(e){console.log(e),e.result?t.reloadData():t.$Message.error(e.msg)})},delete:function(e){var t=this;console.log(e),this.$Modal.confirm({title:"提示信息",content:"<p>是否确定删除？</p>",loading:!0,onOk:function(){t.api.admin.serialno.delete({id:e.row.id}).then(function(e){console.log(e),e.result?(t.reloadData(),t.$Message.info("删除成功"),t.$Modal.remove()):t.$Message.error(e.msg)})}})},showAddDialog:function(){this.dialog.modal_dialog=!0,this.dialog.formItem={}},showEditDialog:function(e){this.dialog.modal_dialog=!0;var t=e.row;this.dialog.formItem={id:t.id,bsCode:t.bsCode,bsName:t.bsName,bsPrefix:t.bsPrefix,bsSurffix:t.bsSurffix,bsInitVal:t.initVal,bsMaxVal:t.bsMaxVal,bsLength:t.bsLength,bsValue:t.bsValue,bsEnableState:t.bsEnableState,bsComment:t.bsComment}},ok:function(){var e=this;console.log("this.dialog.formItem====>"+(0,s.default)(this.dialog.formItem.id)),void 0!=(0,s.default)(this.dialog.formItem.id)&&"number"==typeof this.dialog.formItem.id?(console.log("编辑1"),console.log((0,r.default)(this.dialog.formItem)),this.api.admin.serialno.edit(this.dialog.formItem).then(function(t){t.result?e.reloadData():e.$Message.error(t.msg)})):(console.log("新增1"),this.api.admin.serialno.add(this.dialog.formItem).then(function(t){t.result?e.reloadData():e.$Message.error(t.msg)}))},cancel:function(){}}}},2037:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",[a("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:e.formQuery,inline:""}},[a("Form-item",{attrs:{prop:"bsCode"}},[a("Input",{attrs:{placeholder:"编码"},model:{value:e.formQuery.bsCode,callback:function(t){e.$set(e.formQuery,"bsCode",t)},expression:"formQuery.bsCode"}})],1),e._v(" "),a("Form-item",{attrs:{prop:"bsName"}},[a("Input",{attrs:{placeholder:"名称"},model:{value:e.formQuery.bsName,callback:function(t){e.$set(e.formQuery,"bsName",t)},expression:"formQuery.bsName"}})],1),e._v(" "),e.menuData.perms.QUERY?a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formQuery")}}},[e._v("查 询")])],1):e._e(),e._v(" "),e.menuData.perms.ADD?a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.showAddDialog()}}},[e._v("新 增")])],1):e._e()],1)],1)],1),e._v(" "),a("Row",[a("i-col",{attrs:{span:"24"}},[a("Table",{staticStyle:{height:"500px"},attrs:{data:e.datagrid.data.rows,columns:e.datagrid.columns,stripe:""}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.datagrid.data.total,current:1,"page-size":e.datagrid.queryParams.rows,"page-size-opts":e.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage}})],1)])],1)],1),e._v(" "),a("Modal",{attrs:{title:"",width:"800"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.dialog.modal_dialog,callback:function(t){e.$set(e.dialog,"modal_dialog",t)},expression:"dialog.modal_dialog"}},[a("p",[a("Form",{ref:e.dialog.ruleForm,attrs:{model:e.dialog.formItem,rules:e.dialog.ruleForm,"label-width":80}},[a("span",{staticStyle:{display:"none"}},[a("Input",{model:{value:e.dialog.formItem.id,callback:function(t){e.$set(e.dialog.formItem,"id",t)},expression:"dialog.formItem.id"}}),e._v(" "),a("Input",{attrs:{value:"-1"},model:{value:e.dialog.formItem.pkGroup,callback:function(t){e.$set(e.dialog.formItem,"pkGroup",t)},expression:"dialog.formItem.pkGroup"}}),e._v(" "),a("Input",{attrs:{value:"-1"},model:{value:e.dialog.formItem.pkOrg,callback:function(t){e.$set(e.dialog.formItem,"pkOrg",t)},expression:"dialog.formItem.pkOrg"}})],1),e._v(" "),a("Row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"编码",prop:"bsCode"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsCode,callback:function(t){e.$set(e.dialog.formItem,"bsCode",t)},expression:"dialog.formItem.bsCode"}})],1)],1),e._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"名称",prop:"bsName"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsName,callback:function(t){e.$set(e.dialog.formItem,"bsName",t)},expression:"dialog.formItem.bsName"}})],1)],1)],1),e._v(" "),a("Row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"前缀",prop:"bsPrefix"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsPrefix,callback:function(t){e.$set(e.dialog.formItem,"bsPrefix",t)},expression:"dialog.formItem.bsPrefix"}})],1)],1),e._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"后缀",prop:"bsSurffix"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsSurffix,callback:function(t){e.$set(e.dialog.formItem,"bsSurffix",t)},expression:"dialog.formItem.bsSurffix"}})],1)],1)],1),e._v(" "),a("Row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"初始值",prop:"bsInitVal"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",value:"1"},model:{value:e.dialog.formItem.bsInitVal,callback:function(t){e.$set(e.dialog.formItem,"bsInitVal",t)},expression:"dialog.formItem.bsInitVal"}})],1)],1),e._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"最大值",prop:"bsMaxVal"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsMaxVal,callback:function(t){e.$set(e.dialog.formItem,"bsMaxVal",t)},expression:"dialog.formItem.bsMaxVal"}})],1)],1)],1),e._v(" "),a("Row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"长度",prop:"bsLength"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",value:"5"},model:{value:e.dialog.formItem.bsLength,callback:function(t){e.$set(e.dialog.formItem,"bsLength",t)},expression:"dialog.formItem.bsLength"}})],1)],1),e._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"当前值",prop:"bsValue"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",value:"1"},model:{value:e.dialog.formItem.bsValue,callback:function(t){e.$set(e.dialog.formItem,"bsValue",t)},expression:"dialog.formItem.bsValue"}})],1)],1),e._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"启用状态",prop:"bsEnableState"}},[a("RadioGroup",{model:{value:e.dialog.formItem.bsEnableState,callback:function(t){e.$set(e.dialog.formItem,"bsEnableState",t)},expression:"dialog.formItem.bsEnableState"}},[a("Radio",{attrs:{label:1}},[a("span",[e._v("启 用")])]),e._v(" "),a("Radio",{attrs:{label:0}},[a("span",[e._v("停 用")])])],1)],1)],1)],1),e._v(" "),a("Row",[a("i-col",{attrs:{span:"24"}},[a("Form-item",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",placeholder:"请输入..."},model:{value:e.dialog.formItem.bsComment,callback:function(t){e.$set(e.dialog.formItem,"bsComment",t)},expression:"dialog.formItem.bsComment"}})],1)],1)],1)],1)],1)])],1)},l=[];o._withStripped=!0;var r={render:o,staticRenderFns:l};t.default=r}});
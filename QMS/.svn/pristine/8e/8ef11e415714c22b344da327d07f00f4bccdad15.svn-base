webpackJsonp([34],{1228:function(e,t,a){"use strict";function o(e){d||a(2202)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1829),l=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a(2204),n=a.n(s),d=!1,m=a(1),u=o,p=m(l.a,n.a,!1,u,null,null);p.options.__file="src/views/qms/view/product/SampleRegularManagement.vue",t.default=p.exports},1829:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(22),l=o(i),r=a(11),s=o(r);t.default={data:function(){var e=this;return{seen:!1,productData:{},formQuery:{bsName:""},dialog:{modal_dialog:!1,formItem:{},ruleForm:{bsName:[{required:!0,message:"请填写名称",trigger:"blur"}]}},datagrid:{data:{rows:[],total:0},columns:[{title:this.$t("sample.RegularName"),key:"bsName"},{title:this.$t("sample.Tool"),key:"bsTool"},{title:this.$t("sample.Unit"),key:"bsUnit"},{title:this.$t("sample.Remark"),key:"bsRemark"},{title:"操作",key:"action",render:function(t,a){var o=[];return o.push(t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showEditDialog(a)}}},"设置")),o.push(t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.delete(a)}}},"删除")),t("div",o)}}]}}},created:function(){this.productData=this.$store.getters.getProductData,this.getData()},methods:{handleSubmit:function(e){this.getData()},getData:function(){var e=this;(0,s.default)(this.formQuery,this.datagrid.queryParams),this.api.sampleRegular.getlist({bsPrId:this.productData.id}).then(function(t){t.result?e.datagrid.data=t.data:e.$Message.error(t.msg)})},changePage:function(e){this.datagrid.queryParams.page=e,this.datagrid.data=this.getData()},edit:function(e){var t=this;this.api.sampleRegular.edit(e.row).then(function(e){e.result?t.getData():t.$Message.error(e.msg)})},delete:function(e){var t=this;this.$Modal.confirm({title:"提示信息",content:"<p>是否确定删除？</p>",onOk:function(){t.api.sampleRegular.delete({id:e.row.id}).then(function(e){e.result?(t.getData(),t.$Modal.remove(),t.$Message.info("删除成功")):t.$Message.error(e.msg)})}})},showAddDialog:function(){this.dialog.modal_dialog=!0,this.dialog.formItem={bsPrId:this.productData.id}},showEditDialog:function(e){this.dialog.modal_dialog=!0,this.dialog.formItem={bsPrId:this.productData.id,id:e.row.id,bsName:e.row.bsName,bsUnit:e.row.bsUnit,bsTool:e.row.bsTool}},ok:function(){var e=this;void 0!=(0,l.default)(this.dialog.formItem.id)&&"number"==typeof this.dialog.formItem.id?this.api.sampleRegular.edit(this.dialog.formItem).then(function(t){e.getData()}):this.api.sampleRegular.add(this.dialog.formItem).then(function(t){e.getData()})},cancel:function(){}}}},2202:function(e,t,a){var o=a(2203);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(21)("7b4e37f4",o,!1)},2203:function(e,t,a){t=e.exports=a(20)(!1),t.push([e.i,"\n.ApprovedFlowManagement .ivu-table {\n  font-size: 14px;\n}\n.ApprovedTermsManagement .ivu-table-cell {\n  font-size: 14px;\n}\n.SampleManagement .ivu-table {\n  font-size: 14px;\n}\n.SampleRegularManagement .ivu-table {\n  font-size: 14px;\n}\n",""])},2204:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"SampleRegularManagement"},[a("div",[a("Table",{attrs:{data:e.datagrid.data.rows,columns:e.datagrid.columns}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"50px","margin-bottom":"100px"}},[a("center",[a("el-button",{staticStyle:{padding:"10px 10px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.showAddDialog()}}},[e._v(e._s(e.$t("sample.NewSampleRegular"))+"\n            ")])],1)],1),e._v(" "),a("Modal",{attrs:{title:e.$t("sample.NewSampleRegular")},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.dialog.modal_dialog,callback:function(t){e.$set(e.dialog,"modal_dialog",t)},expression:"dialog.modal_dialog"}},[a("el-form",{ref:e.dialog.formItem,attrs:{model:e.dialog.formItem,rules:e.dialog.ruleForm,"label-width":"80"}},[a("el-form-item",{attrs:{label:e.$t("sample.RegularName"),prop:"bsName"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsName,callback:function(t){e.$set(e.dialog.formItem,"bsName",t)},expression:"dialog.formItem.bsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("sample.Tool"),prop:"bsTool"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsTool,callback:function(t){e.$set(e.dialog.formItem,"bsTool",t)},expression:"dialog.formItem.bsTool"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("sample.Unit"),prop:"bsUnit"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.formItem.bsUnit,callback:function(t){e.$set(e.dialog.formItem,"bsUnit",t)},expression:"dialog.formItem.bsUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"bsSampleId"}},[e.seen?a("el-input",{model:{value:e.dialog.formItem.bsSampleId,callback:function(t){e.$set(e.dialog.formItem,"bsSampleId",t)},expression:"dialog.formItem.bsSampleId"}}):e._e()],1)],1)],1)],1)},i=[];o._withStripped=!0;var l={render:o,staticRenderFns:i};t.default=l}});
webpackJsonp([74],{1168:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1882),s=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,function(){return r[e]})}(o);var l=a(2049),i=a.n(l),m=a(1),n=m(s.a,i.a,!1,null,null,null);n.options.__file="src/view/member/lab/sample/sampletest.vue",t.default=n.exports},1882:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(72),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=a(98);t.default={created:function(){},computed:(0,s.default)({},(0,o.mapState)({menuData:function(e){return e.menuData}})),data:function(){var e=this;return{showM:!1,form:{username:"",password:""},show:{0:!0},tabs:1,dialog:{ruleForm:{},formItem:{bsCode:"",bsName:""}},formQuery:{ATestx:[],AEqname:[],ATime:[],eqName:"",testx:"",bsSampleStatrtTime:"",bsCostTime:"",bsReportTime:"",pkPerson:"",items:[{}]},num:2,formQu:{id:""},Query:{eqName:"",testTime:"",testx:""},dict:{bsStatus:[{value:0,name:"待测试"},{value:1,name:"测试中"},{value:2,name:"已完成"},{value:3,name:"已中止"}]},datagrid:{queryParams:{page:1,rows:25,pkParent:-1},pagination:[25,50,100],data:{rows:[],total:0},columns:[{title:"样品编码",key:"bsCode"},{title:"样品名称",key:"bsName"},{title:"登记时间",key:"bsSampleTime"},{title:"要求报告时间",key:"bsReportTime"},{title:"样品数量",key:"bsQty"},{title:"状态",key:"bsStatus",render:function(t,a){return t("span",e.dict.bsStatus[a.row.bsStatus].name)}},{title:"测试内容",key:"bsComment"}]}}},watch:{$route:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.formQu.id=this.$route.query.row.id,this.api.sample.selectById(this.formQu).then(function(t){t.result?(e.dialog.formItem.bsCode=t.data.rows[0].bsCode,e.dialog.formItem.bsName=t.data.rows[0].bsName,e.datagrid.data=t.data,e.api.sample.selectSampleTestTime(e.dialog.formItem).then(function(t){if(t.result){e.formQuery.bsSampleStatrtTime=t.data.rows[0].bsSampleStatrtTime,e.formQuery.bsCostTime=t.data.rows[0].bsCostTime,e.formQuery.pkPerson=t.data.rows[0].pkPerson,e.formQuery.bsCompTime=t.data.rows[0].bsCompTime;for(var a=0;a<t.data.total;a++)e.formQuery.items.push({testx:t.data.rows[a].testx,testTime:t.data.rows[a].testTime,eqName:t.data.rows[a].eqName})}else e.$Message.error(t.msg)})):e.$Message.error(t.msg)})}}}},2049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("i-col",{attrs:{span:"24"}},[a("Table",{staticStyle:{height:"100px"},attrs:{data:e.datagrid.data.rows,columns:e.datagrid.columns,stripe:""}})],1)],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("Row",[a("Form",{ref:e.dialog.ruleForm,attrs:{model:e.Query,rules:e.dialog.ruleForm,"label-width":80}},[e._l(this.formQuery.items,function(t){return a("Form-item",{directives:[{name:"show",rawName:"v-show",value:null!=t.testx,expression:"tab.testx !=null "}],attrs:{label:"测试项",prop:"testx"}},[a("Input",{staticStyle:{display:"float",width:"30%"},attrs:{readonly:"readonly",type:"text",placeholder:"请输入..."},model:{value:t.testx,callback:function(a){e.$set(t,"testx",a)},expression:"tab.testx"}}),e._v("\n                         时间用时: "),a("Input",{staticStyle:{display:"float",width:"30%"},attrs:{readonly:"readonly",type:"text",placeholder:"请输入..."},model:{value:t.testTime,callback:function(a){e.$set(t,"testTime",a)},expression:"tab.testTime"}}),e._v("\n                         是否可用设备:"),a("Input",{staticStyle:{display:"float",width:"30%"},attrs:{readonly:"readonly",type:"text",placeholder:"请输入..."},model:{value:t.eqName,callback:function(a){e.$set(t,"eqName",a)},expression:"tab.eqName"}})],1)}),e._v(" "),a("Form-item",{attrs:{label:"总用时",prop:"bsCostTime"}},[a("Input",{attrs:{readonly:"readonly",type:"text",placeholder:"请输入..."},model:{value:e.formQuery.bsCostTime,callback:function(t){e.$set(e.formQuery,"bsCostTime",t)},expression:"formQuery.bsCostTime"}})],1),e._v(" "),a("Form-item",{attrs:{label:"实验计划开始时间",prop:"bsSampleStatrtTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{readonly:"readonly",type:"datetime",placeholder:"请选择"},model:{value:e.formQuery.bsSampleStatrtTime,callback:function(t){e.$set(e.formQuery,"bsSampleStatrtTime",t)},expression:"formQuery.bsSampleStatrtTime"}})],1),e._v(" "),a("Form-item",{attrs:{label:"预计完成时间",prop:"bsCompTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{disabled:"disabled",type:"datetime",placeholder:"请选择"},model:{value:e.formQuery.bsCompTime,callback:function(t){e.$set(e.formQuery,"bsCompTime",t)},expression:"formQuery.bsCompTime"}})],1),e._v(" "),a("Form-item",{attrs:{label:"测试人员",prop:"pkPerson"}},[a("Input",{attrs:{readonly:"readonly",type:"text",placeholder:"请输入测试人员..."},model:{value:e.formQuery.pkPerson,callback:function(t){e.$set(e.formQuery,"pkPerson",t)},expression:"formQuery.pkPerson"}})],1)],2)],1)],1)},s=[];r._withStripped=!0;var o={render:r,staticRenderFns:s};t.default=o}});
webpackJsonp([78],{1206:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(1924),o=r.n(s);for(var a in s)"default"!==a&&function(t){r.d(e,t,function(){return s[t]})}(a);var l=r(2110),n=r.n(l),m=r(1),i=m(o.a,n.a,!1,null,null,null);i.options.__file="src/view/member/lab/mail/mailInfo.vue",e.default=i.exports},1924:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(72),o=function(t){return t&&t.__esModule?t:{default:t}}(s),a=r(98);e.default={created:function(){this.getDate()},computed:(0,o.default)({},(0,a.mapState)({menuData:function(t){return t.menuData}})),data:function(){var t=this;return{start:0,end:15,dialog:{ruleForm:{bsCode:[{required:!0,message:"请填写编码",trigger:"blur"}],bsName:[{required:!0,message:"请填写名称",trigger:"blur"}]},modal_dialog:!1,modal_dialog1:!1},message:"新增",dict:{bsState:[{value:0,name:"可用"},{value:1,name:"不可用"}]},formQuery:{bsUser:""},isShow:!1,formItem:{id:"",bsSmtpHost:"",bsSmtpPort:"",bsUser:"",bsSmtpPw:"",bsInternetAddress:"",bsSender:""},datagrid:{queryParams:{page:1,rows:15,pkParent:-1},pagination:[15,50,100],data:{rows:[],total:0,rows1:[]},columns:[{title:"SMTP服务器",key:"bsSmtpHost"},{title:"端口号",key:"bsSmtpPort"},{title:"发送信息邮箱",key:"bsSender"},{title:"发送信息邮箱SMTP口令",key:"bsSmtpPw"},{title:"实验室人邮箱",key:"bsUser"},{title:"送样人邮箱",key:"bsInternetAddress"},{title:"创建时间",key:"bsCreatedTime"},{title:"操作",key:"action",render:function(e,r){var s=[];return s.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showEditDialog(r)}}},"编辑")),s.push(e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.delete(r)}}},"删除")),e("div",s)}}]}}},methods:{getDate:function(){var t=this;this.api.labmail.getlist().then(function(e){e.result?(t.datagrid.data.rows=e.data.rows.slice(t.start,t.end),t.datagrid.data.total=e.data.total):t.$Message.error(e.msg)})},delete:function(t){var e=this;this.$Modal.confirm({title:"提示信息",content:"<p>是否确定删除？</p>",loading:!0,onOk:function(){e.api.labmail.delete(t.row).then(function(t){t.result?(e.getDate(),e.$Message.info("删除成功"),e.$Modal.remove()):e.$Message.error("删除失败")})}})},showEditDialog:function(t){this.dialog.modal_dialog1=!0,this.formItem.bsUser=t.row.bsUser,this.formItem.bsInternetAddress=t.row.bsInternetAddress,this.formItem.bsSmtpHost=t.row.bsSmtpHost,this.formItem.bsSmtpPort=t.row.bsSmtpPort,this.formItem.bsSmtpPw=t.row.bsSmtpPw,this.formItem.bsState=t.row.bsState,this.formItem.bsSender=t.row.bsSender,this.formItem.id=t.row.id},add:function(){var t=this;this.api.labmail.save(this.formItem).then(function(e){e.result&&(t.getDate(),t.$Message.success("添加成功")),e.result||t.$Message.error("失败")})},update:function(t){var e=this;this.api.labmail.update(this.formItem).then(function(t){t.result&&(e.getDate(),e.$Message.success("更新成功")),t.result||e.$Message.error("名称已存在，请重新添加")})},handleSubmit:function(){var t=this;this.formQuery.bsUser=this.formQuery.bsUser.trim(),this.api.labmail.getlist(this.formQuery).then(function(e){e.result?t.datagrid.data=e.data:t.$Message.error(e.msg)})},showAddDialog:function(){this.dialog.modal_dialog=!0,this.dialog.formItem={}},changePage:function(t){this.start=(t-1)*this.datagrid.queryParams.rows,this.end=t*this.datagrid.queryParams.rows,this.getDate()},chageSize:function(t){this.datagrid.queryParams.rows=t,this.start=0,this.end=t,this.getDate()}}}},2110:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("Row",[r("i-col",[r("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:t.formQuery,inline:""}},[r("Form-item",[r("Input",{attrs:{placeholder:"请输入发件人邮箱"},model:{value:t.formQuery.bsUser,callback:function(e){t.$set(t.formQuery,"bsUser",e)},expression:"formQuery.bsUser"}})],1),t._v(" "),r("Form-item",[r("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formQuery")}}},[t._v("查 询")])],1),t._v(" "),r("Form-item",[r("Button",{attrs:{type:"primary"},on:{click:function(e){t.showAddDialog()}}},[t._v("新 增")])],1)],1)],1)],1)],1),t._v(" "),r("Modal",{attrs:{title:""},on:{"on-ok":t.add,"on-cancel":t.cancel},model:{value:t.dialog.modal_dialog,callback:function(e){t.$set(t.dialog,"modal_dialog",e)},expression:"dialog.modal_dialog"}},[r("p"),r("div",[r("Row",[r("i-col",[r("Form",{ref:t.dialog.ruleForm,staticStyle:{"text-align":"center"},attrs:{model:t.formItem,"label-width":80,rules:t.dialog.ruleForm}},[r("FormItem",{attrs:{label:"SMTP服务器",prop:"bsSmtpHost"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入SMTP服务器"},model:{value:t.formItem.bsSmtpHost,callback:function(e){t.$set(t.formItem,"bsSmtpHost",e)},expression:"formItem.bsSmtpHost"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"端口号",prop:"bsSmtpPort"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入端口号"},model:{value:t.formItem.bsSmtpPort,callback:function(e){t.$set(t.formItem,"bsSmtpPort",e)},expression:"formItem.bsSmtpPort"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"发送信息邮箱",prop:"bsUser"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入发送人邮件"},model:{value:t.formItem.bsSender,callback:function(e){t.$set(t.formItem,"bsSender",e)},expression:"formItem.bsSender"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"实验室邮件",prop:"bsUser"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入发送人邮件"},model:{value:t.formItem.bsUser,callback:function(e){t.$set(t.formItem,"bsUser",e)},expression:"formItem.bsUser"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"送样人邮箱",prop:"bsInternetAddress"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入收件人邮箱"},model:{value:t.formItem.bsInternetAddress,callback:function(e){t.$set(t.formItem,"bsInternetAddress",e)},expression:"formItem.bsInternetAddress"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"SMTP口令",prop:"bsSmtpPw"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入SMTP口令"},model:{value:t.formItem.bsSmtpPw,callback:function(e){t.$set(t.formItem,"bsSmtpPw",e)},expression:"formItem.bsSmtpPw"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),r("p")]),t._v(" "),r("Modal",{attrs:{title:""},on:{"on-ok":function(e){t.update()},"on-cancel":t.cancel},model:{value:t.dialog.modal_dialog1,callback:function(e){t.$set(t.dialog,"modal_dialog1",e)},expression:"dialog.modal_dialog1"}},[r("p"),r("div",[r("Row",[r("i-col",[r("Form",{staticStyle:{"text-align":"center"},attrs:{model:t.formItem,"label-width":80}},[r("FormItem",{attrs:{label:"SMTP服务器",prop:"bsSmtpHost"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入SMTP服务器"},model:{value:t.formItem.bsSmtpHost,callback:function(e){t.$set(t.formItem,"bsSmtpHost",e)},expression:"formItem.bsSmtpHost"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"端口号",prop:"bsSmtpPort"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入端口号"},model:{value:t.formItem.bsSmtpPort,callback:function(e){t.$set(t.formItem,"bsSmtpPort",e)},expression:"formItem.bsSmtpPort"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"发送信息邮箱",prop:"bsUser"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入发送人邮件"},model:{value:t.formItem.bsSender,callback:function(e){t.$set(t.formItem,"bsSender",e)},expression:"formItem.bsSender"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"实验室邮件",prop:"bsUser"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入发送人邮件"},model:{value:t.formItem.bsUser,callback:function(e){t.$set(t.formItem,"bsUser",e)},expression:"formItem.bsUser"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"送样人邮箱",prop:"bsInternetAddress"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入收件人邮箱"},model:{value:t.formItem.bsInternetAddress,callback:function(e){t.$set(t.formItem,"bsInternetAddress",e)},expression:"formItem.bsInternetAddress"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"SMTP口令",prop:"bsSmtpPw"}},[r("Row",[r("Col",{attrs:{span:"12"}},[r("Input",{attrs:{placeholder:"请输入SMTP口令"},model:{value:t.formItem.bsSmtpPw,callback:function(e){t.$set(t.formItem,"bsSmtpPw",e)},expression:"formItem.bsSmtpPw"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),r("p")]),t._v(" "),r("Row",[r("i-col",{attrs:{span:"24"}},[r("Table",{staticStyle:{height:"auto"},attrs:{data:t.datagrid.data.rows,columns:t.datagrid.columns,stripe:""}}),t._v(" "),r("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[r("div",{staticStyle:{float:"right"}},[r("Page",{attrs:{total:t.datagrid.data.total,current:1,"page-size":t.datagrid.queryParams.rows,"page-size-opts":t.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.chageSize}})],1)])],1)],1)],1)},o=[];s._withStripped=!0;var a={render:s,staticRenderFns:o};e.default=a}});
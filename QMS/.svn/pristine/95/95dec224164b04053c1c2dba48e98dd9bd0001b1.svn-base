webpackJsonp([0],{1292:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(16),r=s(a),l=o(30),i=s(l);t.default={props:["approvedItemRecord","type","data","sampleRegularRecords"],data:function(){return{showFailedModel:!1,showSuccessModel:!1,showRejectModel:!1,isCoach:1,resultDesc:"",flowDesc:""}},created:function(){},mounted:function(){},methods:{showModel:function(e){3==e?this.showFailedModel=!0:2==e?this.showRejectModel=!0:this.showSuccessModel=!0},approved:function(e){var t=this;if(0!=e){var o={bsItemsId:this.approvedItemRecord.itemsBy.id,bsItemsRecordId:this.approvedItemRecord.id,bsResult:e,itemsDesc:this.flowDesc,resultDesc:this.resultDesc};this.api.Audit.approved(o).then(function(o){t.$Message.info("提交审核结果完成"),t.bsStatus=e;var s=t.$route.matched[t.$route.matched.length-2].path,a={path:s,query:{bsFlowRecordId:t.$route.query.bsFlowRecordId,refresh:!0}};t.$router.replace(a)})}},saveRecord:function(e){var t=this;if("audits"==this.type){for(var o=new Array,s=this.data,a=0;a<s.length;a++){var l={};l.bsItemsRecoreId=this.approvedItemRecord.id,l.bsTermsId=s[a].ID,l.bsScore=s[a].BS_SCORE,l.bsDesc=s[a].BS_DESC,void 0!=s[a].SCORE_ID&&(l.id=s[a].SCORE_ID),o.push(l)}(0,i.default)(o);this.api.Audit.records({approvedTermsScoreStr:(0,i.default)(o)}).then(function(o){t.$emit("updateTermsRecord"),t.$Message.info("保存成功"),t.approved(e)})}else if("inspect"==this.type){var n=(0,r.default)({},this.data);if(n=this.$Util.formattedParams(n),this.api.shipmentInspect.edit(n).then(function(o){t.$Message.info("保存成功"),t.approved(e)}),void 0!=this.sampleRegularRecords){for(var n={bsShipmentInspectId:n.id},p=[],a=0;a<this.sampleRegularRecords.length;a++)for(var d=this.sampleRegularRecords[a],c=0;c<d.records.length;c++){var u=d.records[c];p.push(this.$Util.formattedParams(u))}n.sampleRegularRecordStr=(0,i.default)(p),this.api.sampleRegularRecord.add(n).then(function(e){t.$emit("saved")})}}else if("quality"==this.type){var n=(0,r.default)({},this.data);n=this.$Util.formattedParams(n),this.api.qualityInspect.edit(n).then(function(o){t.$Message.info("保存成功"),t.approved(e)})}else this.approved(e)}}}},1293:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["approvedData","isCoach"],data:function(){return{}}}},1317:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(1292),a=o.n(s);for(var r in s)"default"!==r&&function(e){o.d(t,e,function(){return s[e]})}(r);var l=o(1318),i=o.n(l),n=o(1),p=n(a.a,i.a,!1,null,null,null);p.options.__file="src/views/qms/components/approvedAction.vue",t.default=p.exports},1318:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"component"},[o("center",[o("el-button",{staticStyle:{padding:"7px 20px"},attrs:{type:"primary"},on:{click:function(t){e.saveRecord(0)}}},[o("i",{staticClass:"el-icon-news"}),e._v("  "+e._s(e.$t("Button.SaveChanges"))+"\n        ")]),e._v(" "),e.approvedItemRecord.bsStatus>0&&e.approvedItemRecord.bsStep>1?o("el-button",{staticStyle:{padding:"7px 20px","margin-left":"3%"},attrs:{type:"warning"},on:{click:function(t){e.showModel(2)}}},[o("i",{staticClass:"el-icon-warning"}),e._v("  "+e._s(e.$t("Button.DismissReview"))+"\n        ")]):e._e(),e._v(" "),e.approvedItemRecord.bsStatus>0?o("el-button",{staticStyle:{padding:"7px 20px","margin-left":"3%"},attrs:{type:"danger"},on:{click:function(t){e.showModel(3)}}},[o("i",{staticClass:"el-icon-close"}),e._v("  "+e._s(e.$t("Button.AuditFailed"))+"\n        ")]):e._e(),e._v(" "),e.approvedItemRecord.bsStatus>0?o("el-button",{staticStyle:{padding:"7px 20px","margin-left":"3%"},attrs:{type:"success"},on:{click:function(t){e.showModel(1)}}},[o("i",{staticClass:"el-icon-check"}),e._v("  "+e._s(e.$t("Button.Approved"))+"\n        ")]):e._e(),e._v(" "),o("Modal",{on:{"on-ok":function(t){e.saveRecord(3)}},model:{value:e.showFailedModel,callback:function(t){e.showFailedModel=t},expression:"showFailedModel"}},[o("el-form",{attrs:{"label-width":"80"}},[o("p",{staticStyle:{"font-size":"16px",color:"#F56C6C"}},[e._v(e._s(e.$t("approved.failed_approved")))]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.result_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.flowDesc,callback:function(t){e.flowDesc=t},expression:"flowDesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.item_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.resultDesc,callback:function(t){e.resultDesc=t},expression:"resultDesc"}})],1)],1)],1),e._v(" "),o("Modal",{on:{"on-ok":function(t){e.saveRecord(1)}},model:{value:e.showSuccessModel,callback:function(t){e.showSuccessModel=t},expression:"showSuccessModel"}},[o("el-form",{attrs:{"label-width":"80"}},[o("p",{staticStyle:{"font-size":"16px",color:"#67C23A"}},[e._v(e._s(e.$t("approved.comfirm_approved")))]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.result_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.flowDesc,callback:function(t){e.flowDesc=t},expression:"flowDesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.item_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.resultDesc,callback:function(t){e.resultDesc=t},expression:"resultDesc"}})],1)],1)],1),e._v(" "),o("Modal",{on:{"on-ok":function(t){e.saveRecord(2)}},model:{value:e.showRejectModel,callback:function(t){e.showRejectModel=t},expression:"showRejectModel"}},[o("el-form",{attrs:{"label-width":"80"}},[o("p",{staticStyle:{"font-size":"16px",color:"#F56C6C"}},[e._v(e._s(e.$t("approved.reject_approved")))]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.result_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.flowDesc,callback:function(t){e.flowDesc=t},expression:"flowDesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.item_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.resultDesc,callback:function(t){e.resultDesc=t},expression:"resultDesc"}})],1)],1)],1)],1)],1)},a=[];s._withStripped=!0;var r={render:s,staticRenderFns:a};t.default=r},1319:function(e,t,o){"use strict";function s(e){p||o(1320)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1293),r=o.n(a);for(var l in a)"default"!==l&&function(e){o.d(t,e,function(){return a[e]})}(l);var i=o(1322),n=o.n(i),p=!1,d=o(1),c=s,u=d(r.a,n.a,!1,c,null,null);u.options.__file="src/views/qms/components/approvedResultRecord.vue",t.default=u.exports},1320:function(e,t,o){var s=o(1321);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(29)("510cd950",s,!1)},1321:function(e,t,o){t=e.exports=o(28)(!1),t.push([e.i,"\n.component{margin-top: 30px;\n}\n",""])},1322:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"component"},[o("Card",[o("p",{staticStyle:{display:"inline"},attrs:{slot:"title"},slot:"title"},[e._v("审核状态: "+e._s(e.$t("approved.status["+e.approvedData.bsStatus+"]")))]),e._v(" "),o("p",{staticStyle:{display:"inline","margin-left":"30px"},attrs:{slot:"title"},slot:"title"},[e._v("结果说明: "+e._s(e.approvedData.bsDesc))]),e._v(" "),e.approvedData.resultSet.length>0?o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.approvedData.resultSet}},[o("el-table-column",{attrs:{label:"审核结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[void 0==e.isCoach?o("span",[e._v(e._s(e.$t("approved.itemResultDesc["+t.row.bsResult+"]")))]):e._e(),e._v(" "),void 0!=e.isCoach?o("span",[e._v(e._s(e.$t("approved.coachResultDesc["+t.row.bsResult+"]")))]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"resultBy.bsName",label:"负责人"}}),e._v(" "),o("el-table-column",{attrs:{prop:"bsDesc",label:"审核意见"}}),e._v(" "),o("el-table-column",{attrs:{prop:"bsCreatedTime",label:"时间"}})],1)],1):e._e()])],1)},a=[];s._withStripped=!0;var r={render:s,staticRenderFns:a};t.default=r},1395:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(16),a=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={props:["fileList","canUpload"],data:function(){return{dialogImageUrl:"",dialogVisible:!1,file:[]}},created:function(){this.fileList.map(function(e){return e.name=e.fsFileBy.bsName+e.fsFileBy.bsFileType,e})},methods:{handleRemove:function(e,t){var o=this;if(e.id&&canUpload){var s={id:e.id};this.api.approvedItemsRecordFile.delete(s).then(function(e){e.result?(o.fileList.remove(),o.$Message.info("删除成功")):o.$Message.error(e.msg)})}},handleUpload:function(e){return this.file=e,this.getData(),!0},getData:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("bsItemsRecordId",this.$route.query.itemsRecordId),this.api.approvedItemsRecordFile.add(t).then(function(t){if(t.result){var o=(0,a.default)(t.data,{name:e.file.name});e.fileList.push(o)}else e.$Message.error(t.msg)})},downloadFile:function(e){var t={fsFileId:e.fsFileId};this.api.fileQms.getfile(t).then(function(e){e.click()})}}}},163:function(e,t,o){"use strict";function s(e){p||o(2142)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1798),r=o.n(a);for(var l in a)"default"!==l&&function(e){o.d(t,e,function(){return a[e]})}(l);var i=o(2146),n=o.n(i),p=!1,d=o(1),c=s,u=d(r.a,n.a,!1,c,null,null);u.options.__file="src/views/qms/view/approved/PreApprovedCoach.vue",t.default=u.exports},1688:function(e,t,o){"use strict";function s(e){p||o(1689)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1395),r=o.n(a);for(var l in a)"default"!==l&&function(e){o.d(t,e,function(){return a[e]})}(l);var i=o(1691),n=o.n(i),p=!1,d=o(1),c=s,u=d(r.a,n.a,!1,c,null,null);u.options.__file="src/views/qms/components/upload.vue",t.default=u.exports},1689:function(e,t,o){var s=o(1690);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(29)("3905d981",s,!1)},1690:function(e,t,o){t=e.exports=o(28)(!1),t.push([e.i,"\n.Uploadbox{margin-top:15px;\n}\n.el-upload--text {\n    background-color: #fff;\n    border: none;\n    border-radius: 6px;\n    box-sizing: border-box;\n  \n    text-align: center;\n    cursor: pointer;\n    position: relative;\n}\n.el-upload-list__item{width: 60%;\n}\n",""])},1691:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-upload",{staticClass:"upload-demo",attrs:{action:"","before-upload":e.handleUpload,"on-preview":e.downloadFile,"on-remove":e.handleRemove,"file-list":e.fileList}},[e.canUpload?o("el-button",{attrs:{size:"small",type:"success",plain:"",icon:"el-icon-plus"}},[e._v("\n    "+e._s(e.$t("upcoming.UploadAttachment"))+"\n  ")]):e._e(),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1)},a=[];s._withStripped=!0;var r={render:s,staticRenderFns:a};t.default=r},1798:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(16),r=s(a),l=o(31),i=s(l),n=o(1688),p=s(n),d=o(1317),c=s(d),u=o(2144),f=s(u),v=o(1319),m=s(v);t.default={components:{ApprovedAction:c.default,Upload:p.default,ApprovedCoachAction:f.default,ApprovedResultRecord:m.default},data:function(){return{dialogImageUrl:"",dialogVisible:!1,file:{},perms:{},approvedItemRecord:{},flowData:{},supplierInfo:{},productInfo:{},records:[],percentage:0,grade:0,isPreApproved:!1,isLastStep:!1}},created:function(){this.approvedItemRecord=this.$store.getters.getItemRecordData,this.records=(0,r.default)([],this.$store.getters.getFlowRecordData);var e=this.records.pop();this.flowData=e.itemsBy,this.flowData.bsType>20?this.supplierInfo=this.$store.getters.getSupplierData:this.flowData.bsType>10&&(this.productInfo=this.$store.getters.getProductData);for(var t=0,o=0,s=0;s<this.records.length;s++){var a=this.records[s];if(a.percent=0,void 0!=a.bsScoreNum){var l=a.bsScoreNum.split("/");if(2==l.length){var n=parseFloat(l[0]),p=parseFloat(l[1]);a.percent=n/p*100,a.percent>50?a.color="green":a.percent>30?a.color="orange":a.color="red",o+=n,t+=p}}}t>0&&(this.percentage=o/t*100),this.percentage>50?this.supplierInfo.bsGrade=3:this.percentage>=30?this.supplierInfo.bsGrade=2:this.percentage>0&&(this.supplierInfo.bsGrade=5),this.isPreApproved=22==this.flowData.bsType,this.isLastStep=this.approvedItemRecord.bsStep==this.approvedItemRecord.users.length,void 0==this.approvedItemRecord.fileSet&&(this.approvedItemRecord.fileSet=[]),this.perms.edit=(this.approvedItemRecord.users[this.approvedItemRecord.bsStep-1]==i.default.get("user")||this.$Util.hasPerm("EDIT"))&&1==this.approvedItemRecord.bsStatus},methods:{formatPercent:function(e){return void 0!=e.percent?e.percent.toFixed(2)+"%":""}}}},1799:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["approvedItemRecord","supplierInfo","productInfo","flowData"],data:function(){return{showFailedModal:!1,showSuccessModal:!1,showRejectModal:!1,showRestartModal:!1,resultDesc:"",flowDesc:"",canReject:!0,canRestart:!1,canPass:!0,canFailed:!0}},created:function(){void 0!=this.supplierInfo.id&&22==this.flowData.bsType&&(this.canRestart=2==this.supplierInfo.bsGrade,this.canRestart=2==this.supplierInfo.bsGrade||5==this.supplierInfo.bsGrade,this.canPass=3==this.supplierInfo.bsGrade,this.canReject=!1),void 0!=this.productInfo.id&&12==this.flowData.bsType&&(this.canReject=!1,this.canRestart=!0)},methods:{showModal:function(e,t){3==e?this.showFailedModal=!0:2==e&&t?this.showRestartModal=!0:2==e?this.showRejectModal=!0:this.showSuccessModal=!0},saveRecord:function(e,t){var o=this;if(0!=e){var s={bsItemsId:this.approvedItemRecord.itemsBy.id,bsItemsRecordId:this.approvedItemRecord.id,bsResult:e,itemsDesc:this.flowDesc,resultDesc:this.resultDesc};this.api.Audit.approved(s).then(function(s){if(o.$Message.info(o.$t("approved.submitted")),o.bsStatus=e,22==o.flowData.bsType&&o.api.supplierinfo.changeSuppGradeAndStatus({bsLoginName:o.supplierInfo.bsLoginName,bsResult:e,bsGrade:o.supplierInfo.bsGrade}).then(function(e){}),2!=e){var a=1==e?1:2;o.api.approvedFlowRecord.edit({bsResult:a,id:o.$route.query.bsFlowRecordId}).then(function(e){var s=o.$route.matched[o.$route.matched.length-2].path,a={path:s,query:{bsFlowRecordId:o.$route.query.bsFlowRecordId,refresh:!0}};if(o.$router.replace(a),t){var r={};r.bsFlowId=o.flowData.bsFlowId,r.bsType=o.flowData.bsType,o.supplierInfo.id&&(r.bsSuppId=o.supplierInfo.id),o.productInfo.id&&(r.bsPrId=o.productInfo.id),o.api.approvedFlowRecord.add(r).then(function(e){})}})}})}}}}},2142:function(e,t,o){var s=o(2143);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(29)("779ae980",s,!1)},2143:function(e,t,o){t=e.exports=o(28)(!1),t.push([e.i,'\n.approvedextrareports{padding:0 15px;\n}\n.approvedextrareports #other-body{\n       margin-top: 1px;background-color: white; padding:0 20px;margin-bottom: 10px;\n}\n.approvedextrareports #other-body-div1{\n       font-size: 14px;\n       padding-top: 20px;padding-left: 1%;padding-right: 1%;\n}\n.approvedextrareports .td1{\n       width: 25%;\n       height: 50px;\n       text-align: center;\n}\n.approvedextrareports #bottom{\n       background-color: white;padding-top: 20px;padding-bottom:50px;padding-left: 5%;\n}\n.td{padding: 10px; text-align:center;\n}\n.td .el-upload--text{\n       border: none;\n       display: inline-block;\n       width: 90px;\n       height: 50px;\n       float: left;\n       margin-left: 10px;\n}\n.upload  .el-upload--text{\n       border: none;\n       display: inline-block;\n       height:50px;\n       width: 20%;\n       background: none;   \n       position: absolute;\n       right:8%;\n       top:10px;\n       margin-left: 10px;\n}\n.fileList2 {\n       margin-top:20px;\n       padding-top:20px;   \n       border-top:1px solid #f0f0f0;\n       width: 100%;\n}\n.fltxt{display: inline-block; width:100%;\n}\n.fltxt .grade{line-height: 35px;font-family: "Microsoft YaHei";font-size:16px;\n}\n.fileList2 .el-upload-list{border:1px dashed  #f0f0f0;margin-top:20px;\n}\n.fileList2 .upload-demo{width:80%\n}\n.supplevel{color:#fd5822;margin-left: 15px;\n}\n\n\n\n',""])},2144:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(1799),a=o.n(s);for(var r in s)"default"!==r&&function(e){o.d(t,e,function(){return s[e]})}(r);var l=o(2145),i=o.n(l),n=o(1),p=n(a.a,i.a,!1,null,null,null);p.options.__file="src/views/qms/components/approvedCoachAction.vue",t.default=p.exports},2145:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"component"},[o("center",[o("el-button",{staticStyle:{padding:"7px 20px"},attrs:{type:"primary"},on:{click:function(t){e.saveRecord(0)}}},[o("i",{staticClass:"el-icon-news"}),e._v("  "+e._s(e.$t("Button.SaveChanges"))+"\n        ")]),e._v(" "),e.canRestart?o("el-button",{staticStyle:{padding:"7px 20px","margin-left":"3%"},attrs:{type:"warning"},on:{click:function(t){e.showModal(2,!0)}}},[o("i",{staticClass:"el-icon-warning"}),e._v("  "+e._s(e.$t("Button.Coach"))+"\n        ")]):e._e(),e._v(" "),e.approvedItemRecord.bsStatus>0&&e.approvedItemRecord.bsStep>1&&e.canReject?o("el-button",{staticStyle:{padding:"7px 20px","margin-left":"3%"},attrs:{type:"warning"},on:{click:function(t){e.showModal(2)}}},[o("i",{staticClass:"el-icon-warning"}),e._v("  "+e._s(e.$t("Button.DismissReview"))+"\n        ")]):e._e(),e._v(" "),e.canRestart?o("el-button",{staticStyle:{padding:"7px 20px","margin-left":"3%"},attrs:{type:"danger"},on:{click:function(t){e.showModal(3)}}},[o("i",{staticClass:"el-icon-close"}),e._v("  "+e._s(e.$t("Button.AuditFailed"))+"\n        ")]):e._e(),e._v(" "),e.canPass?o("el-button",{staticStyle:{padding:"7px 20px","margin-left":"3%"},attrs:{type:"success"},on:{click:function(t){e.showModal(1)}}},[o("i",{staticClass:"el-icon-check"}),e._v("  "+e._s(e.$t("Button.Approved"))+"\n        ")]):e._e(),e._v(" "),o("Modal",{on:{"on-ok":function(t){e.saveRecord(1)}},model:{value:e.showSuccessModal,callback:function(t){e.showSuccessModal=t},expression:"showSuccessModal"}},[o("el-form",{attrs:{"label-width":"80"}},[o("p",{staticStyle:{"font-size":"16px",color:"#67C23A"}},[e._v(e._s(e.$t("approved.comfirm_approved")))]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.result_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.flowDesc,callback:function(t){e.flowDesc=t},expression:"flowDesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.item_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.resultDesc,callback:function(t){e.resultDesc=t},expression:"resultDesc"}})],1)],1)],1),e._v(" "),o("Modal",{on:{"on-ok":function(t){e.saveRecord(3,!0)}},model:{value:e.showRestartModal,callback:function(t){e.showRestartModal=t},expression:"showRestartModal"}},[o("el-form",{attrs:{"label-width":"80"}},[o("p",{staticStyle:{"font-size":"16px",color:"#F56C6C"}},[e._v(e._s(e.$t("approved.restart_approved")))]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.result_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.flowDesc,callback:function(t){e.flowDesc=t},expression:"flowDesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.item_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.resultDesc,callback:function(t){e.resultDesc=t},expression:"resultDesc"}})],1)],1)],1),e._v(" "),o("Modal",{on:{"on-ok":function(t){e.saveRecord(2)}},model:{value:e.showRejectModal,callback:function(t){e.showRejectModal=t},expression:"showRejectModal"}},[o("el-form",{attrs:{"label-width":"80"}},[o("p",{staticStyle:{"font-size":"16px",color:"#F56C6C"}},[e._v(e._s(e.$t("approved.reject_approved")))]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.result_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.flowDesc,callback:function(t){e.flowDesc=t},expression:"flowDesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.item_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.resultDesc,callback:function(t){e.resultDesc=t},expression:"resultDesc"}})],1)],1)],1),e._v(" "),e.canFailed?o("Modal",{on:{"on-ok":function(t){e.saveRecord(3)}},model:{value:e.showFailedModal,callback:function(t){e.showFailedModal=t},expression:"showFailedModal"}},[o("el-form",{attrs:{"label-width":"80"}},[o("p",{staticStyle:{"font-size":"16px",color:"#67C23A"}},[e._v(e._s(e.$t("approved.failed_approved")))]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.result_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.flowDesc,callback:function(t){e.flowDesc=t},expression:"flowDesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("approved.item_comment")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.resultDesc,callback:function(t){e.resultDesc=t},expression:"resultDesc"}})],1)],1)],1):e._e()],1)],1)},a=[];s._withStripped=!0;var r={render:s,staticRenderFns:a};t.default=r},2146:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"approvedextrareports"},[o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.records}},[o("el-table-column",{attrs:{prop:"itemsBy.bsName",label:e.$t("approved.AuditingItem")}}),e._v(" "),o("el-table-column",{attrs:{prop:"",label:e.$t("New-audit.score_percent"),width:"250"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("el-progress",{attrs:{percentage:e.row.percent,"show-text":!1,"stroke-width":14,color:e.row.color}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"percent",label:e.$t("New-audit.score_percent"),width:"150",formatter:e.formatPercent}})],1)],1),e._v(" "),o("Row",{staticStyle:{margin:"15px 0"}},[o("Card",[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{staticStyle:{color:"#ff9900"},attrs:{type:"pricetag"}}),e._v("\n                 "+e._s(e.approvedItemRecord.itemsBy.bsName)+"\n            ")],1),e._v(" "),o("div",{attrs:{id:"other-body"}},[e.approvedItemRecord.bsSuppId&&22==e.flowData.bsType?o("div",{staticClass:"fltxt"},[o("Col",{attrs:{md:8}},[o("p",{staticClass:"grade"},[e._v(e._s(e.$t("supplier.SuppLevel"))+": "),o("span",{staticClass:"supplevel"},[e._v(e._s(e.$t("supplier.LevelDesc["+e.supplierInfo.bsGrade+"]")))])])]),e._v(" "),o("Col",{attrs:{md:8}},[o("p",{staticClass:"grade"},[e._v(e._s(e.$t("New-audit.score_percent"))+": "),o("span",{staticClass:"supplevel"},[e._v(e._s(e.percentage.toFixed(2)+"%"))])])])],1):e._e(),e._v(" "),o("div",{staticClass:"fileList2"},[o("upload",{attrs:{fileList:e.approvedItemRecord.fileSet,canUpload:e.perms.edit}})],1)])]),e._v(" "),o("ApprovedResultRecord",{attrs:{approvedData:e.approvedItemRecord,isCoach:"1"}}),e._v(" "),e.perms.edit?o("div",{attrs:{id:"bottom"}},[e.isLastStep?o("ApprovedCoachAction",{attrs:{approvedItemRecord:e.approvedItemRecord,supplierInfo:e.supplierInfo,productInfo:e.productInfo,flowData:e.flowData}}):e._e(),e._v(" "),e.isLastStep?e._e():o("ApprovedAction",{attrs:{approvedItemRecord:e.approvedItemRecord}})],1):e._e()],1)],1)},a=[];s._withStripped=!0;var r={render:s,staticRenderFns:a};t.default=r}});
webpackJsonp([4],{1809:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{form:{},bsCode:"",bsName:"",selectedFlow:{},flowdata:[],bsCodeLabel:"",bsNameLabel:""}},created:function(){var e=this.$route.query;void 0!=e.supplier?(this.form.bsSuppId=e.supplier,this.bsCodeLabel=this.$t("supplier.code"),this.bsNameLabel=this.$t("supplier.name")):void 0!=e.product&&(this.form.bsPrId=e.product,this.bsCodeLabel=this.$t("product.code"),this.bsNameLabel=this.$t("product.name")),this.getData(),this.getInfo()},methods:{getData:function(e){var t=this,s=this.form;this.api.ApprovedFlow.getlist().then(function(e){t.flowdata=[];for(var o=0;o<e.data.rows.length;o++){var a=e.data.rows[o];void 0!=s.bsPrId&&a.bsType<=20&&t.flowdata.push(a),void 0!=s.bsSuppId&&a.bsType>20&&t.flowdata.push(a)}})},getInfo:function(){var e=this;void 0!=this.form.bsPrId&&this.api.productinfo.getlist({id:this.form.bsPrId}).then(function(t){e.bsCode=t.data.rows[0].bsPrCode,e.bsName=t.data.rows[0].bsPrName}),void 0!=this.form.bsSuppId&&this.api.supplierinfo.getlist({id:this.form.bsSuppId}).then(function(t){e.bsCode=t.data.rows[0].bsSuppChieseName,e.bsName=t.data.rows[0].bsSuppCode})},createApporvedRecord:function(){var e=this;this.form.bsFlowId=this.selectedFlow.id,this.form.bsType=this.selectedFlow.bsType,this.api.approvedFlowRecord.add(this.form).then(function(t){e.$router.push({path:"approved",query:{bsFlowRecordId:t.data.id}}),e.$Message.info(e.$t("approved.create-success"))})}}}},2145:function(e,t,s){var o=s(2146);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s(21)("027255f4",o,!1)},2146:function(e,t,s){t=e.exports=s(20)(!1),t.push([e.i,'\nhr{\r\n  border: none;\r\n  height: 1px;\r\n  background-color: #DDDDDD;\n}\n.createtitle{\r\n    padding-left:5%;height: 50px;font-size: 16px;font-family: "Microsoft YaHei";\r\n    background: #f2f7fb;line-height: 50px;\n}\n.createtitle .el-icon-circle-plus-outline{color:#2196f3!important; font-size: 16px;\n}\n.CreateBtn{margin-left: 100px;margin-top:80px; max-width: 368px;\n}\n.layout-content{min-height: 500px; background: #fff\n}\r\n\r\n\r\n',""])},2147:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-content",staticStyle:{padding:"15px"}},[s("div",{staticClass:"createtitle"},[s("span",{staticClass:"el-icon-circle-plus-outline"}),e._v("\n           "+e._s(e.$t("product.NewAudit"))+"\n        ")]),e._v(" "),s("div",{staticClass:"ivu-col-span-10",staticStyle:{margin:"4%"}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:e.bsCodeLabel,prop:"bsSuppCode"}},[s("el-input",{staticStyle:{width:"380px"},attrs:{readonly:""},model:{value:e.bsCode,callback:function(t){e.bsCode=t},expression:"bsCode"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.bsNameLabel,prop:"bsSuppChieseName"}},[s("el-input",{staticStyle:{width:"380px"},attrs:{readonly:""},model:{value:e.bsName,callback:function(t){e.bsName=t},expression:"bsName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("approved.flow")}},[s("el-select",{staticStyle:{width:"380px"},attrs:{"value-key":"id",placeholder:e.$t("choose")},model:{value:e.selectedFlow,callback:function(t){e.selectedFlow=t},expression:"selectedFlow"}},e._l(e.flowdata,function(t){return s("el-option",{key:t.id,attrs:{label:t.bsName,value:t}},[s("span",{staticStyle:{float:"left"}},[e._v(e._s(t.bsName))]),e._v(" "),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.approvedBy.bsName))])])}))],1),e._v(" "),s("i-button",{staticClass:"CreateBtn",attrs:{type:"success",long:"",icon:"plus-round"},on:{click:function(t){e.createApporvedRecord()}}},[e._v(e._s(e.$t("approved.create")))])],1)],1)])},a=[];o._withStripped=!0;var i={render:o,staticRenderFns:a};t.default=i},506:function(e,t,s){"use strict";function o(e){d||s(2145)}Object.defineProperty(t,"__esModule",{value:!0});var a=s(1809),i=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var n=s(2147),l=s.n(n),d=!1,p=s(1),c=o,u=p(i.a,l.a,!1,c,null,null);u.options.__file="src/views/qms/view/approved/ApprovedRecordCreator.vue",t.default=u.exports}});
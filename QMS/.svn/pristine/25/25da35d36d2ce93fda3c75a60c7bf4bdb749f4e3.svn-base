webpackJsonp([66],{1210:function(t,e,o){"use strict";function n(t){i||o(2110)}Object.defineProperty(e,"__esModule",{value:!0});var a=o(1928),s=o.n(a);for(var r in a)"default"!==r&&function(t){o.d(e,t,function(){return a[t]})}(r);var m=o(2112),l=o.n(m),i=!1,p=o(1),c=n,u=p(s.a,l.a,!1,c,null,null);u.options.__file="src/view/logistics/infrastruct/cumould.vue",e.default=u.exports},1928:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(72),a=function(t){return t&&t.__esModule?t:{default:t}}(n),s=o(98);e.default={mounted:function(){this.getData()},computed:(0,a.default)({},(0,s.mapState)({menuData:function(t){return t.menuData}})),data:function(){var t=this;return{start:0,end:20,dialog:{modal_dialog:!1,modal_dialog1:!1,ruleForm:{bsCustomer:[{required:!0,message:"请选择客户编码",trigger:"blur"}],bsAgent:[{required:!0,message:"请选择货代编码",trigger:"blur"}]}},formItem:{id:"",bsAgent:"",bsAgentDesc:"",bsCustomer:"",bsCustomerDesc:"",bsTemplateComponentUrl:"",bsTemplateComponent:"",bsTemplateParseComponent:"",bsContentComponent:"",bsContentParseComponent:""},formQuery:{bsAgent:"",bsCustomer:""},datagrid:{queryParams:{page:1,rows:20,pkParent:-1},pagination:[20,50,100],data:{rows:[],total:0,rows1:[]},columns:[{title:"货代编码",key:"bsAgent"},{title:"货代",key:"bsAgentDesc"},{title:"客户编码",key:"bsCustomer"},{title:"客户",key:"bsCustomerDesc"},{title:"模板页面 组件URL",key:"bsTemplateComponentUrl"},{title:"模板页面 组件",key:"bsTemplateComponent"},{title:"模板页面 解析组件",key:"bsTemplateParseComponent"},{title:"内容页面 组件",key:"bsContentComponent"},{title:"内容页面 解析组件",key:"bsContentParseComponent"},{title:"操作",key:"action",render:function(e,o){var n=[];return t.menuData.perms.EDIT,n.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showEditDialog(o)}}},"编辑")),n.push(e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.delete(o)}}},"删除")),e("div",n)}}]}}},methods:{getData:function(){var t=this;this.api.lmp.bookingconfiguration.selectList(this.datagrid.queryParams).then(function(e){e.result?(t.datagrid.data.rows=e.data.rows,t.datagrid.data.total=e.data.total):t.$Message.error(e.msg)})},showAddDialog:function(){this.$refs.formItem.resetFields(),this.formItem.id="",this.formItem.bsAgent="",this.formItem.bsAgentDesc="",this.formItem.bsCustomer="",this.formItem.bsCustomerDesc="",this.formItem.bsTemplateComponentUrl="",this.formItem.bsTemplateComponent="",this.formItem.bsTemplateParseComponent="",this.formItem.bsContentComponent="",this.formItem.bsContentParseComponent="",this.dialog.modal_dialog=!0},ok:function(){var t=this;this.api.lmp.bookingconfiguration.insertBookingconfiguration(this.formItem).then(function(e){e.result?(t.getData(),t.$Message.success("添加成功！")):t.$Message.error("添加失败！")})},ok1:function(){var t=this;this.api.lmp.bookingconfiguration.updateBookingconfiguration(this.formItem).then(function(e){e.result?(t.getData(),t.$Message.success("更新成功！")):t.$Message.error("更新失败！")})},cancel:function(){},delete:function(t){var e=this;this.$Modal.confirm({title:"提示信息",content:"<p>是否确定删除？</p>",loading:!0,onOk:function(){e.api.lmp.bookingconfiguration.deleteBookingconfiguration(t.row).then(function(t){t.result?(e.getData(),e.$Message.success("删除成功！"),e.$Modal.remove()):e.$Message.error("删除失败！")})}})},showEditDialog:function(t){this.$refs.formItem.resetFields(),this.formItem.id=t.row.id,this.formItem.bsAgent=t.row.bsAgent,this.formItem.bsAgentDesc=t.row.bsAgentDesc,this.formItem.bsCustomer=t.row.bsCustomer,this.formItem.bsCustomerDesc=t.row.bsCustomerDesc,this.formItem.bsTemplateComponentUrl=t.row.bsTemplateComponentUrl,this.formItem.bsTemplateComponent=t.row.bsTemplateComponent,this.formItem.bsTemplateParseComponent=t.row.bsTemplateParseComponent,this.formItem.bsContentComponent=t.row.bsContentComponent,this.formItem.bsContentParseComponent=t.row.bsContentParseComponent,this.dialog.modal_dialog1=!0},handleSubmit:function(){var t=this;this.api.lmp.bookingconfiguration.selectBy(this.formQuery).then(function(e){e.result?t.datagrid.data=e.data:t.$Message.error(e.msg)})},changePage:function(t){this.datagrid.queryParams.page=t,this.getData()},chageSize:function(t){this.datagrid.queryParams.rows=t,this.getData()}}}},2110:function(t,e,o){var n=o(2111);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(21)("eedca4a8",n,!1)},2111:function(t,e,o){e=t.exports=o(20)(!1),e.push([t.i,"\n.cumould-modal {\n  z-index: 1000;\n}\n",""])},2112:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Form",{ref:"formQuery",staticClass:"query_area",attrs:{model:t.formQuery,"label-width":140}},[o("Row",[o("i-col",{attrs:{span:"5"}},[o("Form-item",{attrs:{label:"货代编码"}},[o("Input",{attrs:{placeholder:"请输入货代编码"},model:{value:t.formQuery.bsAgent,callback:function(e){t.$set(t.formQuery,"bsAgent",e)},expression:"formQuery.bsAgent"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"5"}},[o("Form-item",{attrs:{label:"客户编码"}},[o("Input",{attrs:{placeholder:"请输入客户"},model:{value:t.formQuery.bsCustomer,callback:function(e){t.$set(t.formQuery,"bsCustomer",e)},expression:"formQuery.bsCustomer"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"1"}},[o("Form-item",[o("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit()}}},[t._v("查 询")])],1)],1),t._v(" "),o("i-col",{attrs:{span:"1"}},[o("Form-item",[o("Button",{attrs:{type:"primary"},on:{click:function(e){t.showAddDialog()}}},[t._v("添加")])],1)],1)],1)],1),t._v(" "),o("Modal",{attrs:{"class-name":"cumould-modal",title:"编辑",width:"800"},on:{"on-ok":t.ok1,"on-cancel":t.cancel},model:{value:t.dialog.modal_dialog1,callback:function(e){t.$set(t.dialog,"modal_dialog1",e)},expression:"dialog.modal_dialog1"}},[o("p",{staticStyle:{color:"rgb(99, 168, 168)","text-align":"left","margin-left":"20px"},attrs:{slot:"header"},slot:"header"},[o("Icon",{attrs:{type:"information-circled"}}),t._v(" "),o("span",[t._v("编 辑")])],1),t._v(" "),o("div",{staticStyle:{border:"1px"}},[o("Row",[o("i-col",[o("Form",{ref:"formItem",staticStyle:{padding:"24px 6px 0px 6px"},attrs:{model:t.formItem,"label-width":100,rules:t.dialog.ruleForm}},[o("Row",[o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"客户编码",prop:"bsCustomer"}},[o("un-customer",{attrs:{text:t.formItem.bsCustomerDesc},on:{"update:text":function(e){t.$set(t.formItem,"bsCustomerDesc",e)}},model:{value:t.formItem.bsCustomer,callback:function(e){t.$set(t.formItem,"bsCustomer",e)},expression:"formItem.bsCustomer"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"货代编码",prop:"bsAgent"}},[o("un-agent",{attrs:{text:t.formItem.bsAgentDesc},on:{"update:text":function(e){t.$set(t.formItem,"bsAgentDesc",e)}},model:{value:t.formItem.bsAgent,callback:function(e){t.$set(t.formItem,"bsAgent",e)},expression:"formItem.bsAgent"}})],1)],1)],1),t._v(" "),o("div",{staticStyle:{"background-color":"#f1f2f3","margin-top":"24px","text-align":"left",padding:"4px"}},[o("div",{staticStyle:{margin:"6px 10px","font-weight":"600","font-size":"14px","margin-left":"12px"}},[t._v("模板页面")]),t._v(" "),o("Row",[o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"组件",prop:"bsTemplateComponent"}},[o("Input",{model:{value:t.formItem.bsTemplateComponent,callback:function(e){t.$set(t.formItem,"bsTemplateComponent",e)},expression:"formItem.bsTemplateComponent"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"解析组件",prop:"bsTemplateParseComponent"}},[o("Input",{model:{value:t.formItem.bsTemplateParseComponent,callback:function(e){t.$set(t.formItem,"bsTemplateParseComponent",e)},expression:"formItem.bsTemplateParseComponent"}})],1)],1)],1),t._v(" "),o("Row",[o("i-col",{attrs:{span:"24"}},[o("FormItem",{attrs:{label:"页面URL",prop:"bsTemplateComponentUrl"}},[o("Input",{attrs:{readonly:"readonly",type:"textarea",autosize:{minRows:2,maxRows:5},disabled:""},model:{value:t.formItem.bsTemplateComponentUrl,callback:function(e){t.$set(t.formItem,"bsTemplateComponentUrl",e)},expression:"formItem.bsTemplateComponentUrl"}})],1)],1)],1)],1),t._v(" "),o("div",{staticStyle:{"background-color":"#f1f2f3","margin-top":"24px","text-align":"left",padding:"4px"}},[o("div",{staticStyle:{margin:"6px 10px","font-weight":"600","font-size":"14px","margin-left":"12px"}},[t._v("内容页面")]),t._v(" "),o("Row",[o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"组件",prop:"bsContentComponent"}},[o("Input",{model:{value:t.formItem.bsContentComponent,callback:function(e){t.$set(t.formItem,"bsContentComponent",e)},expression:"formItem.bsContentComponent"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"解析组件",prop:"bsContentParseComponent"}},[o("Input",{model:{value:t.formItem.bsContentParseComponent,callback:function(e){t.$set(t.formItem,"bsContentParseComponent",e)},expression:"formItem.bsContentParseComponent"}})],1)],1)],1),t._v(" "),o("Row",[o("i-col",{attrs:{span:"24"}},[o("FormItem",{attrs:{label:""}},[o("Input",{attrs:{readonly:"readonly",type:"textarea",autosize:{minRows:2,maxRows:5},disabled:""}})],1)],1)],1)],1)],1)],1)],1)],1)]),t._v(" "),o("Modal",{attrs:{"class-name":"cumould-modal",title:"添加",width:"800"},on:{"on-ok":function(e){t.ok()},"on-cancel":t.cancel},model:{value:t.dialog.modal_dialog,callback:function(e){t.$set(t.dialog,"modal_dialog",e)},expression:"dialog.modal_dialog"}},[o("p",{staticStyle:{color:"rgb(99, 168, 168)","text-align":"left","margin-left":"20px"},attrs:{slot:"header"},slot:"header"},[o("Icon",{attrs:{type:"information-circled"}}),t._v(" "),o("span",[t._v("添 加")])],1),t._v(" "),o("p"),o("div",{staticStyle:{border:"1px"}},[o("Row",[o("i-col",[o("Form",{ref:"formItem",staticStyle:{padding:"24px 6px 0px 6px"},attrs:{model:t.formItem,"label-width":100,rules:t.dialog.ruleForm}},[o("Row",[o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"客户编码",prop:"bsCustomer"}},[o("un-customer",{attrs:{text:t.formItem.bsCustomerDesc},on:{"update:text":function(e){t.$set(t.formItem,"bsCustomerDesc",e)}},model:{value:t.formItem.bsCustomer,callback:function(e){t.$set(t.formItem,"bsCustomer",e)},expression:"formItem.bsCustomer"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"货代编码",prop:"bsAgent"}},[o("un-agent",{attrs:{text:t.formItem.bsAgentDesc},on:{"update:text":function(e){t.$set(t.formItem,"bsAgentDesc",e)}},model:{value:t.formItem.bsAgent,callback:function(e){t.$set(t.formItem,"bsAgent",e)},expression:"formItem.bsAgent"}})],1)],1)],1),t._v(" "),o("div",{staticStyle:{"background-color":"#f1f2f3","margin-top":"24px","text-align":"left",padding:"4px"}},[o("div",{staticStyle:{margin:"6px 10px","font-weight":"600","font-size":"14px","margin-left":"12px"}},[t._v("模板页面")]),t._v(" "),o("Row",[o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"组件",prop:"bsTemplateComponent"}},[o("Input",{model:{value:t.formItem.bsTemplateComponent,callback:function(e){t.$set(t.formItem,"bsTemplateComponent",e)},expression:"formItem.bsTemplateComponent"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"解析组件",prop:"bsTemplateParseComponent"}},[o("Input",{model:{value:t.formItem.bsTemplateParseComponent,callback:function(e){t.$set(t.formItem,"bsTemplateParseComponent",e)},expression:"formItem.bsTemplateParseComponent"}})],1)],1)],1),t._v(" "),o("Row",[o("i-col",{attrs:{span:"24"}},[o("FormItem",{attrs:{label:"页面URL",prop:"bsTemplateComponentUrl"}},[o("Input",{attrs:{readonly:"readonly",type:"textarea",autosize:{minRows:2,maxRows:5},disabled:""},model:{value:t.formItem.bsTemplateComponentUrl,callback:function(e){t.$set(t.formItem,"bsTemplateComponentUrl",e)},expression:"formItem.bsTemplateComponentUrl"}})],1)],1)],1)],1),t._v(" "),o("div",{staticStyle:{"background-color":"#f1f2f3","margin-top":"24px","text-align":"left",padding:"4px"}},[o("div",{staticStyle:{margin:"6px 10px","font-weight":"600","font-size":"14px","margin-left":"12px"}},[t._v("内容页面")]),t._v(" "),o("Row",[o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"组件",prop:"bsContentComponent"}},[o("Input",{model:{value:t.formItem.bsContentComponent,callback:function(e){t.$set(t.formItem,"bsContentComponent",e)},expression:"formItem.bsContentComponent"}})],1)],1),t._v(" "),o("i-col",{attrs:{span:"12"}},[o("FormItem",{attrs:{label:"解析组件",prop:"bsContentParseComponent"}},[o("Input",{model:{value:t.formItem.bsContentParseComponent,callback:function(e){t.$set(t.formItem,"bsContentParseComponent",e)},expression:"formItem.bsContentParseComponent"}})],1)],1)],1),t._v(" "),o("Row",[o("i-col",{attrs:{span:"24"}},[o("FormItem",{attrs:{label:""}},[o("Input",{attrs:{readonly:"readonly",type:"textarea",autosize:{minRows:2,maxRows:5},disabled:""}})],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),o("p")]),t._v(" "),o("Row",[o("i-col",{attrs:{span:"24"}},[o("Table",{staticStyle:{height:"auto"},attrs:{data:t.datagrid.data.rows,columns:t.datagrid.columns,stripe:""}}),t._v(" "),o("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[o("div",{staticStyle:{float:"right"}},[o("Page",{attrs:{total:t.datagrid.data.total,current:1,"page-size":t.datagrid.queryParams.rows,"page-size-opts":t.datagrid.pagination,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.chageSize}})],1)])],1)],1)],1)},a=[];n._withStripped=!0;var s={render:n,staticRenderFns:a};e.default=s}});